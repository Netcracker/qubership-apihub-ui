import{j}from"./createTheme-0ee58ceb.js";import{e as S,R as D,U as P,l as p,m as y,E as Y,M as h,a as T}from"./toggleHighContrast-54be90c4.js";import{r as v}from"./index-37ba2b57.js";import{f as L}from"./graphql-samples-f1747b06.js";import{u as H}from"./useDebounce-c4a5dbf1.js";import{u as N}from"./useEffectOnce-12abbac4.js";import{O as z,Q as d,R as m,V as E,W as x}from"./SpecificationDialog.stories-b4a103f9.js";import{J as M,b as C,Y as b,d as X,O as B,e as J}from"./files-cf01e921.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-dd1a14a8.js";import"./iframe-ac20a90d.js";import"../sb-preview/runtime.js";import"./_commonjsHelpers-de833af9.js";import"./index-8d47fad6.js";import"./index-891d46e9.js";import"./index-686a0dd6.js";import"./index-4da2af8c.js";import"./Paper-c3e6ed30.js";import"./clsx.m-bc31e435.js";import"./styled-63e5ab44.js";import"./useThemeProps-af595d22.js";import"./ToggleButtonGroup-7591d66e.js";import"./Typography-089f60e4.js";import"./extendSxProp-083dfeeb.js";import"./ToggleButton-9f9b2e35.js";import"./ButtonBase-11c344bc.js";import"./emotion-react.browser.esm-e1f4c3b5.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./assertThisInitialized-081f9914.js";import"./inheritsLoose-c82a83d4.js";import"./TransitionGroupContext-373e5cc0.js";import"./jsx-runtime_commonjs-proxy-c1eabaee.js";import"./createSvgIcon-59613792.js";import"./createChainedFunction-0bab83cf.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./debounce-517eeb3c.js";import"./isMuiElement-58afa5f8.js";import"./useControlled-4ef99295.js";import"./CustomChip-28c2c1ea.js";import"./palette-8c6d2233.js";import"./Chip-7a90fc08.js";import"./arrays-4b61f5c5.js";import"./Button-261ba857.js";import"./AccordionSummary-ff6cde59.js";import"./utils-8f64eed4.js";import"./useTheme-6dc18478.js";import"./ListItemButton-3d5f83f7.js";import"./ListContext-aeaca2aa.js";import"./listItemButtonClasses-ec8f8e5b.js";import"./ListItemText-ac571102.js";import"./listItemTextClasses-ac24d732.js";import"./Box-b4966c9a.js";import"./LoadingIndicator-fa43b63c.js";import"./CircularProgress-d188cfe7.js";import"./PopupDelegate-deae3236.js";import"./index-270a4b4c.js";import"./constants-963f5fd0.js";import"./Placeholder-e1d7950b.js";import"./dialogTitleClasses-182658bb.js";import"./Modal-8a00b656.js";import"./Portal-880ae769.js";import"./DialogTitle-ce094d8d.js";import"./IconButton-4002dfdc.js";import"./DialogContent-2a11fa38.js";import"./theme-3a21604b.js";import"./CssBaseline-80e11010.js";import"./GlobalStyles-9edec0e5.js";import"./apihub-builder.es-d609de32.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";function W(e,t){e.revealLineNearTop(t,S.ScrollType.Smooth),e.setPosition({lineNumber:t,column:0}),e.focus()}function Q(e,t){const[r,o]=v.useState(void 0);v.useEffect(()=>{const i=e==null?void 0:e.current;if(!i||!t)return;r||o(i.createDecorationsCollection());const n=L(i.getValue(),t);if(n){const s=n==null?void 0:n.range.start.line,c=n==null?void 0:n.range.end.line,l=[{range:new D(s+1,0,c+1,0),options:{isWholeLine:!1,marginClassName:"MonacoSelectedDecorator"}}];r==null||r.set(l),W(i,s+1)}return()=>{r==null||r.clear()}},[r,e,t])}function G(e,t,r){const[o,i]=v.useState("");H(()=>r==null?void 0:r(o),500,[o]),v.useEffect(()=>{const n=Z(e),s=n==null?void 0:n.onFindReplaceStateChange(({searchString:c})=>{c&&i(n._searchString)});return s==null?void 0:s.dispose},[e]),N(()=>{var c,l,a;const n=e.current;if(!t||!n)return;i(t);const s=(l=(c=n.getModel())==null?void 0:c.findMatches(t,!1,!1,!1,null,!0)[0])==null?void 0:l.range;s&&n.setSelection(s),(a=n.getAction("actions.find"))==null||a.run().then()})}function Z(e){var t,r;return(r=(t=e.current)==null?void 0:t.getContribution("editor.contrib.findController"))==null?void 0:r.getState()}function $(e,t){v.useEffect(()=>{var i;const r=e.current;if(!r)return;const o=(i=r.getModel())==null?void 0:i.getValue();if(t&&o){const n=L(o,t);if(n){const s=n==null?void 0:n.range.start.line;W(r,s+1)}}},[e,t])}function ee(e,t,r,o){const i=`${r}/*.${o}`;v.useEffect(()=>{const n=e.current;if(n)return n.setModel(S.createModel(t,o,P.parse(i))),()=>{var s,c;(s=n.getModel())==null||s.dispose(),(c=n.getModel())==null||c.dispose()}},[e,t,o,i])}function te(e,t,r,o){N(()=>{const i=S.createModel(r,o);return S.defineTheme("custom",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#FFFFFF"}}),t.current=S.create(e.current,{minimap:{enabled:!0},hover:{above:!1},automaticLayout:!0,readOnly:!0,wordWrap:"on",tabSize:2,model:i,glyphMargin:!0,theme:"custom"}),()=>{var n,s,c;(s=(n=t.current)==null?void 0:n.getModel())==null||s.dispose(),(c=t.current)==null||c.dispose()}})}function _(e,t,r){const o=new Map,i=a=>{if(t==="*")return!0;const u=a.getLanguageId();return Array.isArray(t)?t.includes(u):t===u},n=async a=>{const u=await r.provideMarkerData(a);!a.isDisposed()&&i(a)&&e.editor.setModelMarkers(a,r.owner,u??[])},s=a=>{if(!i(a))return;let u;o.set(String(a.uri),a.onDidChangeContent(()=>{clearTimeout(u),u=setTimeout(()=>{n(a)},500)})),n(a)},c=a=>{e.editor.setModelMarkers(a,r.owner,[]);const u=String(a.uri),w=o.get(u);w&&(w.dispose(),o.delete(u))},l=[e.editor.onDidCreateModel(s),e.editor.onWillDisposeModel(a=>{var u;c(a),(u=r.doReset)==null||u.call(r,a)}),e.editor.onDidChangeModelLanguage(a=>{var u;c(a.model),s(a.model),(u=r.doReset)==null||u.call(r,a.model)})];for(const a of e.editor.getModels())s(a);return{dispose(){for(const a of o.keys())c(e.editor.getModel(e.Uri.parse(a)));for(;l.length;)l.pop().dispose()}}}function re(e,t){let{createData:r,interval:o=3e4,label:i,moduleId:n,stopWhenIdleFor:s=12e4}=t,c,l=0,a=!1;const u=()=>{c&&(c.dispose(),c=void 0)},w=setInterval(()=>{if(!c)return;Date.now()-l>s&&u()},o);return{dispose(){a=!0,clearInterval(w),u()},getWorker(...k){if(a)throw new Error("Worker manager has been disposed");return l=Date.now(),c||(c=e.editor.createWebWorker({createData:r,label:i,moduleId:n})),c.withSyncedResources(k)},updateCreateData(k){r=k,u()}}}var g="yaml";function ne(e){switch(e){case E.Error:return h.Error;case E.Warning:return h.Warning;case E.Information:return h.Info;case E.Hint:return h.Hint;default:return h.Info}}function oe(e){switch(e){case x.Deprecated:return T.Deprecated;case x.Unnecessary:return T.Unnecessary}}function O(e){var t;return{severity:ne(e.severity),startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,message:e.message,code:String(e.code),source:e.source,tags:(t=e.tags)==null?void 0:t.map(oe)}}function R(e){return{owner:g,async provideMarkerData(t){return(await(await e(t.uri)).doValidation(String(t.uri))).map(O)},async doReset(t){await(await e(t.uri)).resetSchema(String(t.uri))}}}function I(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function f(e){if(e)return new D(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function A(e){return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function ae(e){return{message:e.message,range:A(e),code:typeof e.code=="object"?e.code.value:e.code,source:e.source}}function ie(e){const t=p.CompletionItemKind;switch(e){case d.Text:return t.Text;case d.Method:return t.Method;case d.Function:return t.Function;case d.Constructor:return t.Constructor;case d.Field:return t.Field;case d.Variable:return t.Variable;case d.Class:return t.Class;case d.Interface:return t.Interface;case d.Module:return t.Module;case d.Property:return t.Property;case d.Unit:return t.Unit;case d.Value:return t.Value;case d.Enum:return t.Enum;case d.Keyword:return t.Keyword;case d.Snippet:return t.Snippet;case d.Color:return t.Color;case d.File:return t.File;case d.Reference:return t.Reference;default:return t.Property}}function V(e){if(e)return{range:f(e.range),text:e.newText}}function se(e){return{triggerCharacters:[" ",":"],async provideCompletionItems(t,r){const o=t.uri,n=await(await e(o)).doComplete(String(o),I(r));if(!n)return;const s=t.getWordUntilPosition(r),c=new D(r.lineNumber,s.startColumn,r.lineNumber,s.endColumn),l=n.items.map(a=>{const u={label:a.label,insertText:a.insertText||a.label,sortText:a.sortText,filterText:a.filterText,documentation:a.documentation,detail:a.detail,kind:ie(a.kind),range:c};return a.textEdit&&(u.range=f("range"in a.textEdit?a.textEdit.range:a.textEdit.replace),u.insertText=a.textEdit.newText),a.additionalTextEdits&&(u.additionalTextEdits=a.additionalTextEdits.map(V)),a.insertTextFormat===z.Snippet&&(u.insertTextRules=p.CompletionItemInsertTextRule.InsertAsSnippet),u});return{incomplete:n.isIncomplete,suggestions:l}}}}function ce(e){return{originSelectionRange:f(e.originSelectionRange),range:f(e.targetRange),targetSelectionRange:f(e.targetSelectionRange),uri:P.parse(e.targetUri)}}function ue(e){return{async provideDefinition(t,r){const o=t.uri,n=await(await e(o)).doDefinition(String(o),I(r));return n==null?void 0:n.map(ce)}}}function le(e){return{async provideHover(t,r){const o=t.uri,n=await(await e(o)).doHover(String(o),I(r));if(n)return{range:f(n.range),contents:[{value:n.contents.value}]}}}}function de(e){const t=p.SymbolKind;switch(e){case m.File:return t.Array;case m.Module:return t.Module;case m.Namespace:return t.Namespace;case m.Package:return t.Package;case m.Class:return t.Class;case m.Method:return t.Method;case m.Property:return t.Property;case m.Field:return t.Field;case m.Constructor:return t.Constructor;case m.Enum:return t.Enum;case m.Interface:return t.Interface;case m.Function:return t.Function;case m.Variable:return t.Variable;case m.Constant:return t.Constant;case m.String:return t.String;case m.Number:return t.Number;case m.Boolean:return t.Boolean;case m.Array:return t.Array;default:return t.Function}}function q(e){return{detail:e.detail||"",range:f(e.range),name:e.name,kind:de(e.kind),selectionRange:f(e.selectionRange),children:e.children.map(q),tags:[]}}function me(e){return{async provideDocumentSymbols(t){const r=t.uri,i=await(await e(r)).findDocumentSymbols(String(r));if(i)return i.map(q)}}}function pe(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces,...e}}function ge(e){return{async provideDocumentFormattingEdits(t,r){const o=t.uri,n=await(await e(o)).format(String(o),pe(r));if(!(!n||n.length===0))return n.map(V)}}}function fe(e){return{range:f(e.range),tooltip:e.tooltip,url:e.target}}function ve(e){return{async provideLinks(t){const r=t.uri;return{links:(await(await e(r)).findLinks(String(r))).map(fe)}}}}function he(e){const t=[];for(const[r,o]of Object.entries(e.changes))for(const i of o)t.push({resource:P.parse(r),edit:{text:i.newText,range:f(i.range)}});return{edits:t}}function Se(e){var t;return{title:e.title,diagnostics:e.diagnostics.map(O),disabled:(t=e.disabled)==null?void 0:t.reason,edit:he(e.edit),kind:e.kind,isPreferred:e.isPreferred}}function we(e){return{async provideCodeActions(t,r,o){const i=t.uri;return{actions:(await(await e(i)).getCodeAction(String(i),A(r),o.markers.map(ae))).map(Se),dispose(){}}}}}var ke={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:p.IndentAction.Indent}}]};function Ee(e){const t=re(y,{label:"yaml",moduleId:"monaco-yaml/yaml.worker",createData:{languageSettings:e.diagnosticsOptions,enableSchemaRequest:e.diagnosticsOptions.enableSchemaRequest}});e.onDidChange(()=>{t.updateCreateData({languageSettings:e.diagnosticsOptions,enableSchemaRequest:e.diagnosticsOptions.enableSchemaRequest})}),p.registerCompletionItemProvider(g,se(t.getWorker)),p.registerHoverProvider(g,le(t.getWorker)),p.registerDefinitionProvider(g,ue(t.getWorker)),p.registerDocumentSymbolProvider(g,me(t.getWorker)),p.registerDocumentFormattingEditProvider(g,ge(t.getWorker)),p.registerLinkProvider(g,ve(t.getWorker)),p.registerCodeActionProvider(g,we(t.getWorker)),p.setLanguageConfiguration(g,ke);let r=_(y,g,R(t.getWorker));e.onDidChange(()=>{r.dispose(),r=_(y,g,R(t.getWorker))})}var U={completion:!0,customTags:[],enableSchemaRequest:!1,format:!0,isKubernetes:!1,hover:!0,schemas:[],validate:!0,yamlVersion:"1.2"};function ye(e){const t=new Y;let r=e;const o={get onDidChange(){return t.event},get diagnosticsOptions(){return r},setDiagnosticsOptions(i){r={...U,...i},t.fire(o)}};return o}var K=ye(U);p.register({id:g,extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]});p.onLanguage("yaml",()=>{Ee(K)});function Me(e={}){K.setDiagnosticsOptions(e)}function Ce(){const e=(t,...r)=>r.map(o=>`${t}/*${o}`);Me({enableSchemaRequest:!0,hover:!0,completion:!0,validate:!0,format:!0,schemas:[{uri:"/schemas/openapi/2.0.json",fileMatch:e(X,b,C,M)},{uri:"/schemas/openapi/3.0.json",fileMatch:e(B,b,C,M)},{uri:"/schemas/openapi/3.1.json",fileMatch:e(J,b,C,M)}]})}Ce();function be(e){const{value:t,type:r,language:o,selectedUri:i,searchPhrase:n,onSearchPhraseChange:s}=e,c=v.useRef(null),l=v.useRef();return te(c,l,t,o),ee(l,t,r,o),Q(l,i),$(l,i),G(l,n,s),c}const F=v.memo(({value:e,type:t,language:r,selectedUri:o,searchPhrase:i,onSearchPhraseChange:n})=>{const s=be({value:e,type:t,language:r,selectedUri:o,searchPhrase:i,onSearchPhraseChange:n});return j("div",{ref:s,style:{height:"100%"}})});try{F.displayName="MonacoEditorElement",F.__docgenInfo={description:"",displayName:"MonacoEditorElement",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"unknown"'},{value:'"graphql"'},{value:'"openapi-3-1"'},{value:'"openapi-3-0"'},{value:'"openapi-2-0"'},{value:'"openapi"'},{value:'"asyncapi-2"'},{value:'"json-schema"'},{value:'"markdown"'},{value:'"graphql-schema"'},{value:'"graphapi"'},{value:'"introspection"'},{value:'"protobuf-3"'}]}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"graphql"'},{value:'"markdown"'},{value:'"yaml"'},{value:'"json"'},{value:'"proto"'}]}},selectedUri:{defaultValue:null,description:"",name:"selectedUri",required:!1,type:{name:"string"}},searchPhrase:{defaultValue:null,description:"",name:"searchPhrase",required:!1,type:{name:"string"}},onSearchPhraseChange:{defaultValue:null,description:"",name:"onSearchPhraseChange",required:!1,type:{name:"((value: string) => void)"}}}}}catch{}export{F as default};
//# sourceMappingURL=MonacoEditorElement-3f116edc.js.map
