import{j as e,e as Xe,y as Te,x as qe,_ as hr,a as u,F as B}from"./createTheme-1c3fdb4c.js";import{r as s}from"./index-37ba2b57.js";import{a as N,C as h,u as yr}from"./index.esm-cb87e173.js";import{N as F,V as vr,a as br,D as Ye,R as Ze}from"./version-status-fb60f024.js";import{r as Vr,i as Cr,a as kr}from"./jsx-runtime_commonjs-proxy-2f62dfa9.js";import{D as Fr}from"./DialogForm-0677080c.js";import{C as De}from"./CustomChip-3794c692.js";import{c as Oe,a as Sr,b as _r,d as Pr}from"./validations-4f7a4a85.js";import{E as Ir}from"./EditIcon-d1d79451.js";import{F as xr,C as Je}from"./FileIcon-da039b56.js";import{g as j,h as Ar}from"./versions-0bafc2da.js";import{T as y}from"./Typography-2070e12b.js";import{L as Er}from"./LabelsAutocomplete-a94e2b8e.js";import{O as he}from"./OptionItem-389f5a9c.js";import{d as Re}from"./mui-fb0164d9.js";import{a as ye}from"./constants-e3f42350.js";import{I as we}from"./InfoContextIcon-5d0ba521.js";import{t as Le,c as Tr,C as Me}from"./files-c1a311f6.js";import{F as qr}from"./FileUpload-2ba888a5.js";import{U as Dr}from"./UploadButton-32032efe.js";import{D as Or}from"./DeleteIcon-44b414b5.js";import{B as f}from"./Box-315038cd.js";import{I as Qe}from"./IconButton-ff073d65.js";import{d as Rr}from"./ErrorOutlined-cc454ae4.js";import{_ as O}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import{g as wr,b as Lr,s as J,c as Mr,a as Nr}from"./clsx.m-5aa26874.js";import{u as Br}from"./useThemeProps-8e56afb5.js";import{c as Q}from"./createSvgIcon-18d721fa.js";import{C as Wr,A as D}from"./Autocomplete-f7714206.js";import{P as $r}from"./Paper-3f5febe1.js";import{W as zr,a as Ur}from"./WarningApiProcessorVersion-e18003cd.js";import{d as ve}from"./debounce-517eeb3c.js";import{D as Kr,a as Hr}from"./DialogTitle-070406b3.js";import{D as jr}from"./DialogContent-8f690a13.js";import{T as k}from"./TextField-53e0aa4a.js";import{D as Ne}from"./Divider-36e84992.js";import{T as Be}from"./Tooltip-29aca5a1.js";import{L as be}from"./ListItem-9d39b76e.js";import{L as Gr}from"./LoadingButton-1300c17f.js";import{B as Xr}from"./Button-14460f64.js";import"./_commonjsHelpers-de833af9.js";import"./package-permissions-7239f49d.js";import"./ClassNameGenerator-bd600f10.js";import"./createChainedFunction-0bab83cf.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./TransitionGroupContext-f40e0036.js";import"./useEnhancedEffect-9d60ea74.js";import"./isMuiElement-de695f11.js";import"./useId-f6e37502.js";import"./useControlled-1dfdd739.js";import"./dialogTitleClasses-b9dc869d.js";import"./useTheme-a99309af.js";import"./Modal-15c27a48.js";import"./utils-360dcac8.js";import"./inheritsLoose-5494d9cc.js";import"./index-4da2af8c.js";import"./Portal-5d34a236.js";import"./isHostComponent-73d6e646.js";import"./palette-0fb0e4ca.js";import"./Chip-6a8b245e.js";import"./ButtonBase-0b48aa94.js";import"./emotion-react.browser.esm-687770fd.js";import"./assertThisInitialized-081f9914.js";import"./extendSxProp-1599c125.js";import"./OverflowTooltip-e8f621cb.js";import"./apihub-builder.es-9db9cc14.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";import"./Popper-1e5c7eaa.js";import"./usePreviousProps-c4e5492e.js";import"./router-3bda5a86.js";import"./index-2374ef69.js";import"./api-types-11797a66.js";import"./arrays-b0979955.js";import"./ButtonWithHint-fd818c35.js";import"./index-891d46e9.js";import"./Menu-6c264efb.js";import"./Grow-89e5daf2.js";import"./List-a1b05c24.js";import"./ListContext-aeaca2aa.js";import"./GlobalStyles-7aea6e12.js";import"./GlobalStyles-4ceeac40.js";import"./dividerClasses-ea47d32c.js";import"./listItemButtonClasses-8c4b5582.js";import"./CircularProgress-0eca2745.js";function Yr(t){return Lr("MuiAlert",t)}const Zr=wr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),We=Zr,Jr=Q(e("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Qr=Q(e("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),et=Q(e("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),rt=Q(e("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),tt=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],ot=t=>{const{variant:i,color:l,severity:p,classes:n}=t,d={root:["root",`${i}${Xe(l||p)}`,`${i}`],icon:["icon"],message:["message"],action:["action"]};return Nr(d,Yr,n)},at=J($r,{name:"MuiAlert",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:l}=t;return[i.root,i[l.variant],i[`${l.variant}${Xe(l.color||l.severity)}`]]}})(({theme:t,ownerState:i})=>{const l=t.palette.mode==="light"?Te:qe,p=t.palette.mode==="light"?qe:Te,n=i.color||i.severity;return O({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},n&&i.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${n}Color`]:l(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:p(t.palette[n].light,.9),[`& .${We.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}},n&&i.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${n}Color`]:l(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${We.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}},n&&i.variant==="filled"&&O({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}))}),nt=J("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,i)=>i.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),it=J("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,i)=>i.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),$e=J("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,i)=>i.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ze={success:e(Jr,{fontSize:"inherit"}),warning:e(Qr,{fontSize:"inherit"}),error:e(et,{fontSize:"inherit"}),info:e(rt,{fontSize:"inherit"})},st=s.forwardRef(function(i,l){var p,n,d,E,m,P;const v=Br({props:i,name:"MuiAlert"}),{action:c,children:R,className:b,closeText:I="Close",color:T,components:V={},componentsProps:W={},icon:$,iconMapping:x=ze,onClose:S,role:ee="alert",severity:q="success",slotProps:z={},slots:U={},variant:re="standard"}=v,te=hr(v,tt),C=O({},v,{color:T,severity:q,variant:re}),A=ot(C),oe=(p=(n=U.closeButton)!=null?n:V.CloseButton)!=null?p:Qe,w=(d=(E=U.closeIcon)!=null?E:V.CloseIcon)!=null?d:Wr,ae=(m=z.closeButton)!=null?m:W.closeButton,L=(P=z.closeIcon)!=null?P:W.closeIcon;return u(at,O({role:ee,elevation:0,ownerState:C,className:Mr(A.root,b),ref:l},te,{children:[$!==!1?e(nt,{ownerState:C,className:A.icon,children:$||x[q]||ze[q]}):null,e(it,{ownerState:C,className:A.message,children:R}),c!=null?e($e,{ownerState:C,className:A.action,children:c}):null,c==null&&S?e($e,{ownerState:C,className:A.action,children:e(oe,O({size:"small","aria-label":I,title:I,color:"inherit",onClick:S},ae,{children:e(w,O({fontSize:"small"},L))}))}):null]}))}),lt=st;var Fe={},dt=Cr;Object.defineProperty(Fe,"__esModule",{value:!0});var er=Fe.default=void 0,ut=dt(Vr()),pt=kr,ct=(0,ut.default)((0,pt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"ErrorRounded");er=Fe.default=ct;const Ve=({children:t})=>e(y,{"data-testid":"ErrorTypography",variant:"body2",color:"#FF5260",children:t});try{Ve.displayName="ErrorTypography",Ve.__docgenInfo={description:"",displayName:"ErrorTypography",props:{}}}catch{}const Ce=s.memo(({file:t,onDelete:i,onDownload:l,testId:p})=>{const n=l?mt:"black";return u(f,{display:"flex",alignItems:"center","data-testid":p,children:[u(f,{onClick:l,sx:{display:"flex",gap:.5,cursor:l?"pointer":"default"},children:[e(xr,{color:n}),e(y,{variant:"subtitle2",fontSize:13,color:n,children:t.name})]}),e(Qe,{onClick:i,sx:{ml:"auto"},"data-testid":"DeleteButton",children:e(Or,{color:"#353C4E"})})]})}),mt="#005DCF";try{Ce.displayName="UploadedFilePreview",Ce.__docgenInfo={description:"",displayName:"UploadedFilePreview",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"File"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => void"}},onDownload:{defaultValue:null,description:"",name:"onDownload",required:!1,type:{name:"(() => void)"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}},testId:{defaultValue:null,description:"",name:"testId",required:!1,type:{name:"string"}}}}}catch{}const ke=s.memo(({uploadedFile:t,setUploadedFile:i,onDownload:l,downloadAvailable:p,acceptableExtensions:n,errorMessage:d})=>{const E=s.useCallback(({target:{files:c}})=>i(c?Le(c)[0]:void 0),[i]),m=s.useCallback(({dataTransfer:{files:c}})=>i(Le(c)[0]),[i]),P=s.useCallback(()=>i(void 0),[i]),v=s.useMemo(()=>d&&e(lt,{icon:e(Rr,{color:"error"}),severity:"error",sx:{p:0,py:"1px",pl:2,alignItems:"center"},children:d}),[d]);return t?u(B,{children:[e(Ce,{file:t,onDelete:P,onDownload:p?l:void 0,testId:p?"DownloadableFilePreview":"NotDownloadableFilePreview"}),v]}):u(f,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e(qr,{onDrop:m,acceptableFileTypes:n,children:u(f,{sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgb(242, 243, 245)",boxSizing:"border-box",borderRadius:"10px",width:1,height:"44px"},children:[e(Je,{sx:{color:"#626D82",mr:"8px"}}),e(y,{variant:"subtitle2",fontSize:13,children:`Drop ${Tr(n)} file here to attach or`}),e(Dr,{title:"browse",onUpload:E,buttonSxProp:{p:0,ml:.5,minWidth:"auto",height:1,display:"flex"},"data-testid":"BrowseButton",acceptableFileTypes:n})]})}),v]})});try{ke.displayName="FileUploadField",ke.__docgenInfo={description:"",displayName:"FileUploadField",props:{uploadedFile:{defaultValue:null,description:"",name:"uploadedFile",required:!0,type:{name:"File | undefined"}},setUploadedFile:{defaultValue:null,description:"",name:"setUploadedFile",required:!0,type:{name:"(file: File | undefined) => void"}},onDownload:{defaultValue:null,description:"",name:"onDownload",required:!1,type:{name:"(() => void)"}},downloadAvailable:{defaultValue:null,description:"",name:"downloadAvailable",required:!0,type:{name:"boolean"}},acceptableExtensions:{defaultValue:null,description:"",name:"acceptableExtensions",required:!0,type:{name:"FileExtension[]"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}}}catch{}const Z=s.memo(t=>{var Ae,Ee;const{open:i,setOpen:l,onSubmit:p,control:n,setValue:d,formState:E,selectedWorkspace:m,workspaces:P,areWorkspacesLoading:v,onSetWorkspace:c,onSetTargetPackage:R,onSetTargetVersion:b,onSetTargetStatus:I,onSetTargetLabels:T,onWorkspacesFilter:V,arePackagesLoading:W,areVersionsLoading:$,onVersionsFilter:x,onPackagesFilter:S,packages:ee,packagesTitle:q,versions:z,previousVersions:U,getVersionLabels:re,packagePermissions:te,releaseVersionPattern:C,isPublishing:A,extraValidationMassage:oe,setSelectedPreviousVersion:w,title:ae,submitButtonTittle:L,descriptorVersionFieldTitle:rr,descriptorFileFieldTitle:tr,hideCSVRelatedFields:ne=!0,hideDescriptorField:ie,hideDescriptorVersionField:se,hideSaveMessageField:le,hidePreviousVersionField:or,hideCopyPackageFields:de,publishButtonDisabled:ar,publishFieldsDisabled:ue,currentPackageKey:nr}=t,{errors:_}=E,pe=N({control:n,name:"workspace"}),M=N({control:n,name:"package"}),ce=N({control:n,name:"status"}),K=N({control:n,name:"previousVersion"}),me=N({control:n,name:"descriptorFile"}),ir=ce===Ze,Se=s.useCallback((a,r)=>V==null?void 0:V(r),[V]),_e=s.useCallback((a,r)=>S==null?void 0:S(r),[S]),Pe=s.useCallback((a,r)=>{b==null||b(r),x==null||x(r)},[x,b]),sr=s.useCallback((a,r)=>T==null?void 0:T(r),[T]),lr=s.useCallback((a,r)=>I==null?void 0:I(r),[I]),[dr,fe]=s.useState(!1),Ie=s.useMemo(()=>ve(Se,ye),[Se]),ur=s.useMemo(()=>ve(_e,ye),[_e]),pr=s.useMemo(()=>ve(Pe,ye),[Pe]),[cr,mr]=s.useState(null),[fr,xe]=s.useState(!1),ge=s.useCallback(a=>{var r;mr((r=a==null?void 0:a.target)!=null&&r.result?String(a.target.result):null),xe(!1)},[]);s.useEffect(()=>{m!=null&&m.key&&d("workspace",m)},[m,m==null?void 0:m.key,d]),s.useEffect(()=>{if(!me)return;const a=new FileReader;a.onload=ge,a.onerror=ge,xe(!0),a.readAsText(me)},[me,ge]);const gr=s.useMemo(()=>!le||!se||!ie,[ie,se,le]),H=s.useMemo(()=>ue||!de&&!M||!ne&&!pe,[ue,de,M,ne,pe]);return u(Fr,{open:i,onClose:()=>l(!1),onSubmit:p,children:[e(Kr,{"data-testid":"DialogTitle",children:ae??"Publish"}),u(jr,{sx:{width:440},children:[!le&&u(B,{children:[e(y,{variant:"button",children:"Save"}),e(h,{name:"message",control:n,render:({field:a})=>e(k,{...a,multiline:!0,required:!0,autoComplete:"on",rows:"4",type:"text",label:"Message","data-testid":"MessageTextField"})}),e(y,{variant:"button",children:"Publish"})]}),!se&&e(h,{name:"descriptorVersion",control:n,rules:{validate:{restrictedSymbols:a=>Oe(a??"")}},render:({field:a})=>e(k,{...a,value:a.value??"",required:!0,label:rr??"Descriptor Version",error:!!_.descriptorVersion,onChange:r=>d("descriptorVersion",r.target.value??""),"data-testid":"DescriptorVersionTextField"})}),!ie&&e(h,{name:"descriptorFile",control:n,rules:{validate:{correctUpload:()=>gt(cr)}},render:({field:a})=>{var r,o;return u(f,{component:"label",htmlFor:"contained-button-file",children:[e(f,{component:"input",id:"contained-button-file",display:"none",multiple:!0,type:"file",onChange:({target:{files:g}})=>{d("descriptorFile",(g==null?void 0:g[0])??null)}}),e(k,{...a,sx:{label:{height:"100%",width:"100%"}},value:((r=a.value)==null?void 0:r.name)??"",label:tr??"Descriptor File",error:!!_.descriptorFile,helperText:(o=_.descriptorFile)==null?void 0:o.message,required:!0,InputProps:{endAdornment:u(f,{display:"flex",flexDirection:"row",sx:{cursor:"pointer"},children:[a.value?e(Ir,{}):e(Je,{fontSize:"small",sx:{color:"#353C4E"}}),!!_.descriptorFile&&e(er,{color:"error"})]}),inputProps:{readOnly:!0}},"data-testid":"DescriptorFileTextField"})]})}}),gr&&e(Ne,{sx:{mx:0,mt:1,mb:.5},orientation:"horizontal"}),!ne&&u(B,{children:[u(f,{display:"flex",gap:.5,alignItems:"center",pb:1,children:[u(f,{sx:{lineHeight:1},children:[e(y,{variant:"button",component:"span",children:"Dashboard Version Config"}),e(y,{variant:"button",component:"span",color:"#FF5260",children:"*"})]}),e(Be,{disableHoverListener:!1,placement:"right",title:ht,PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:"600px"}}},children:e(we,{fontSize:"extra-small"})})]}),e(h,{name:"file",rules:{required:"Please upload a file",validate:{checkFileType:a=>Sr(a,[Me])}},control:n,render:({field:{value:a,onChange:r}})=>{var o;return e(ke,{errorMessage:(o=_.file)==null?void 0:o.message,uploadedFile:a,setUploadedFile:g=>r(g),downloadAvailable:!1,acceptableExtensions:[Me]})}}),u(f,{display:"flex",gap:.5,alignItems:"center",pt:2,children:[e(y,{variant:"button",children:"Package Search Scope for Dashboard Version"}),e(Be,{disableHoverListener:!1,placement:"right",title:yt,PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:"600px"}}},children:e(we,{fontSize:"extra-small"})})]}),e(h,{name:"workspace",control:n,render:({field:{value:a}})=>e(D,{value:a,options:P??[],loading:v,isOptionEqualToValue:(r,o)=>r.key===o.key,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:g})=>e(he,{props:r,title:g,subtitle:o},o),onChange:(r,o)=>{d("workspace",o??null),d("package",null),c==null||c(o)},onInputChange:G(Ie),onClose:X(V),renderInput:r=>e(k,{required:!0,...r,label:"Workspace"}),"data-testid":"WorkspaceAutocomplete"})}),e(f,{sx:{lineHeight:1},pt:2,children:e(y,{variant:"button",children:"Publish Info"})})]}),!de&&u(B,{children:[u(y,{sx:{mb:1},variant:"body2",children:["Target ",q]}),e(h,{name:"workspace",control:n,render:({field:{value:a}})=>e(D,{value:a,options:P??[],loading:v,isOptionEqualToValue:(r,o)=>r.key===o.key,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:g})=>e(he,{props:r,title:g,subtitle:o},o),onChange:(r,o)=>{d("workspace",o??null),d("package",null),c==null||c(o)},onClose:X(V),onInputChange:G(Ie),renderInput:r=>e(k,{required:!0,...r,label:"Workspace"}),"data-testid":"WorkspaceAutocomplete"})}),e(h,{name:"package",control:n,render:({field:{value:a}})=>e(D,{value:a,disabled:!pe,isOptionEqualToValue:(r,o)=>r.key===o.key,options:ee??[],loading:W,filterOptions:Re,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:g})=>e(he,{props:r,title:g,subtitle:o},o),onInputChange:G(ur),renderInput:r=>e(k,{...r,required:!0,label:q}),onChange:(r,o)=>{d("package",o),R==null||R(o),K!==F&&d("previousVersion",F),fe(!1)},onClose:X(S),"data-testid":"PackageAutocomplete"})}),e(y,{sx:{mb:1,mt:2},variant:"body2",children:"Target Version Info"})]}),e(h,{name:"version",control:n,rules:{validate:{checkSpaces:a=>!ir||!C?!0:_r(a,C),restrictedSymbols:Oe,notEqualToPrevious:a=>Pr(a,j(K).versionKey)}},render:({field:a})=>e(D,{freeSolo:!0,disabled:!a||!re||H,value:a.value||"",options:z??[],loading:$,renderOption:(r,o)=>s.createElement(be,{...r,key:o},o),onInputChange:G(pr),filterOptions:Re,renderInput:r=>e(k,{...a,...r,required:!0,label:"Version",error:!!_.version}),onChange:(r,o)=>{d("version",o??""),b==null||b(o??"")},onClose:X(x),"data-testid":"VersionAutocomplete"})}),e(h,{name:"status",control:n,render:({field:{value:a}})=>e(D,{disableClearable:!0,value:a??null,options:vr,getOptionDisabled:r=>!te.includes(br[r]),disabled:H,renderOption:(r,o)=>s.createElement(be,{...r,key:o,"data-testid":`Option-${o}`},e(De,{value:o})),onChange:(r,o)=>{lr(r,o||Ye),d("status",o)},renderInput:r=>e(k,{...r,label:"Status",required:!0,InputProps:{...r.InputProps,sx:{"& .MuiInputBase-input":{color:"transparent",caretColor:"transparent","::selection":{background:"transparent",color:"transparent"}},"& .Mui-disabled":{WebkitTextFillColor:"transparent"}},startAdornment:ce?e(De,{sx:{height:16,mb:1},value:ce}):null}}),"data-testid":"StatusAutocomplete"})}),e(h,{name:"labels",control:n,render:({field:a})=>e(Er,{disabled:H,onChange:(r,o)=>{sr(r,o),d("labels",o??[])},value:a.value})}),!or&&u(B,{children:[e(Ne,{sx:{mx:0,mt:1,mb:.5},orientation:"horizontal"}),e(h,{name:"previousVersion",control:n,render:({field:a})=>e(D,{disabled:H,value:a.value??null,options:U??[],getOptionLabel:r=>j(r).versionKey,isOptionEqualToValue:(r,o)=>r===j(o).versionKey,renderOption:(r,o)=>s.createElement(be,{...r,key:o},j(o).versionKey),renderInput:r=>e(k,{...r,required:!0,label:"Previous release version",helperText:oe}),onChange:(r,o)=>{d("previousVersion",o??F),w==null||w(o??F),(!o||o===F)&&fe(!1)},"data-testid":"PreviousReleaseVersionAutocomplete"})})]}),((Ae=_.version)==null?void 0:Ae.message)&&e(f,{pt:2,children:e(Ve,{children:(Ee=_.version)==null?void 0:Ee.message})}),e(zr,{versionKey:F!==K?K:void 0,packageKey:(M==null?void 0:M.key)||nr,type:Ur,onWarningTextChange:a=>fe(!!a)})]}),u(Hr,{children:[e(Gr,{variant:"contained",type:"submit",loading:A,disabled:fr||ar||ue||dr,"data-testid":L?`${L}Button`:"PublishButton",children:L??"Publish"}),e(Xr,{variant:"outlined",onClick:()=>l(!1),"data-testid":"CancelButton",children:"Close"})]})]})});function Ue(t){return t===F?ft:t}function Ke(t){const i=Ar(t);return s.useMemo(()=>[F,...i.filter(({status:l})=>l===Ze).map(({key:l})=>l)],[i])}const ft="";function gt(t){return!!t}const ht='CSV file must have the following information: "serviceName" and "serviceVersion". Published dashboard version will include package release versions (from selected workspace) for specified services. Additionally, "method" and "path" of REST API operations for services can be defined in the file. In this case, the system will create operations group with the operations for specified method and path.',yt="The workspace in which package versions for services from the CSV configuration will be searched. The package versions found in this workspace will be included into the dashboard version.";function G(t){return(i,l,p)=>{p==="input"&&t(i,l)}}function X(t){return()=>{t==null||t("")}}try{Ue.displayName="replaceEmptyPreviousVersion",Ue.__docgenInfo={description:"",displayName:"replaceEmptyPreviousVersion",props:{}}}catch{}try{Ke.displayName="usePreviousVersionOptions",Ke.__docgenInfo={description:"",displayName:"usePreviousVersionOptions",props:{}}}catch{}try{Z.displayName="VersionDialogForm",Z.__docgenInfo={description:"",displayName:"VersionDialogForm",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(value: boolean) => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"Control<VersionFormData, any>"}},setValue:{defaultValue:null,description:"",name:"setValue",required:!0,type:{name:"UseFormSetValue<VersionFormData>"}},formState:{defaultValue:null,description:"",name:"formState",required:!0,type:{name:"FormState<VersionFormData>"}},packagePermissions:{defaultValue:null,description:"",name:"packagePermissions",required:!0,type:{name:"PackagePermissions"}},releaseVersionPattern:{defaultValue:null,description:"",name:"releaseVersionPattern",required:!0,type:{name:"string | undefined"}},selectedWorkspace:{defaultValue:null,description:"",name:"selectedWorkspace",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | null | undefined"}},workspaces:{defaultValue:null,description:"",name:"workspaces",required:!1,type:{name:"Packages"}},onWorkspacesFilter:{defaultValue:null,description:"",name:"onWorkspacesFilter",required:!1,type:{name:"((value: string) => void)"}},onVersionsFilter:{defaultValue:null,description:"",name:"onVersionsFilter",required:!1,type:{name:"((value: string) => void)"}},onPackagesFilter:{defaultValue:null,description:"",name:"onPackagesFilter",required:!1,type:{name:"((value: string) => void)"}},onSetWorkspace:{defaultValue:null,description:"",name:"onSetWorkspace",required:!1,type:{name:"((workspace: Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; ... 11 more ...; bwcErrors?: Readonly<...> | undefined; }> | null) => void) | undefined"}},onSetTargetPackage:{defaultValue:null,description:"",name:"onSetTargetPackage",required:!1,type:{name:"((pack: Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; ... 11 more ...; bwcErrors?: Readonly<...> | undefined; }> | null) => void) | undefined"}},onSetTargetVersion:{defaultValue:null,description:"",name:"onSetTargetVersion",required:!1,type:{name:"((version: string) => void)"}},onSetTargetStatus:{defaultValue:null,description:"",name:"onSetTargetStatus",required:!1,type:{name:"((status: VersionStatus) => void)"}},onSetTargetLabels:{defaultValue:null,description:"",name:"onSetTargetLabels",required:!1,type:{name:"((labels: string[]) => void)"}},areWorkspacesLoading:{defaultValue:null,description:"",name:"areWorkspacesLoading",required:!1,type:{name:"boolean"}},arePackagesLoading:{defaultValue:null,description:"",name:"arePackagesLoading",required:!1,type:{name:"boolean"}},areVersionsLoading:{defaultValue:null,description:"",name:"areVersionsLoading",required:!1,type:{name:"boolean"}},packages:{defaultValue:null,description:"",name:"packages",required:!1,type:{name:"Packages"}},packagesTitle:{defaultValue:null,description:"",name:"packagesTitle",required:!1,type:{name:"string"}},packageObj:{defaultValue:null,description:"",name:"packageObj",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | undefined"}},onSetPackage:{defaultValue:null,description:"",name:"onSetPackage",required:!1,type:{name:"(() => void)"}},versions:{defaultValue:null,description:"",name:"versions",required:!1,type:{name:"string[]"}},previousVersions:{defaultValue:null,description:"",name:"previousVersions",required:!1,type:{name:"string[]"}},getVersionLabels:{defaultValue:null,description:"",name:"getVersionLabels",required:!1,type:{name:"((version: string) => string[])"}},isPublishing:{defaultValue:null,description:"",name:"isPublishing",required:!1,type:{name:"boolean"}},extraValidationMassage:{defaultValue:null,description:"",name:"extraValidationMassage",required:!1,type:{name:"string | null"}},setSelectedPreviousVersion:{defaultValue:null,description:"",name:"setSelectedPreviousVersion",required:!1,type:{name:"((value: string) => void)"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},submitButtonTittle:{defaultValue:null,description:"",name:"submitButtonTittle",required:!1,type:{name:"string"}},descriptorVersionFieldTitle:{defaultValue:null,description:"",name:"descriptorVersionFieldTitle",required:!1,type:{name:"string"}},descriptorFileFieldTitle:{defaultValue:null,description:"",name:"descriptorFileFieldTitle",required:!1,type:{name:"string"}},hideCSVRelatedFields:{defaultValue:null,description:"",name:"hideCSVRelatedFields",required:!1,type:{name:"boolean"}},hideDescriptorField:{defaultValue:null,description:"",name:"hideDescriptorField",required:!1,type:{name:"boolean"}},hideDescriptorVersionField:{defaultValue:null,description:"",name:"hideDescriptorVersionField",required:!1,type:{name:"boolean"}},hideSaveMessageField:{defaultValue:null,description:"",name:"hideSaveMessageField",required:!1,type:{name:"boolean"}},hideCopyPackageFields:{defaultValue:null,description:"",name:"hideCopyPackageFields",required:!1,type:{name:"boolean"}},hidePreviousVersionField:{defaultValue:null,description:"",name:"hidePreviousVersionField",required:!1,type:{name:"boolean"}},publishButtonDisabled:{defaultValue:null,description:"",name:"publishButtonDisabled",required:!1,type:{name:"boolean"}},publishFieldsDisabled:{defaultValue:null,description:"",name:"publishFieldsDisabled",required:!1,type:{name:"boolean"}},currentPackageKey:{defaultValue:null,description:"",name:"currentPackageKey",required:!1,type:{name:"string"}}}}}catch{}const Jo={component:Z},vt=t=>{const i=s.useMemo(()=>({version:"",status:Ye,labels:[],descriptorFile:null,previousVersion:F}),[]),{control:l,setValue:p,formState:n}=yr({defaultValues:i});return e(Z,{...t,control:l,setValue:p,formState:n})},Y={name:"Default",args:{open:!0,setOpen:()=>null,onSubmit:()=>null,versions:[],previousVersions:[],getVersionLabels:()=>[],packagePermissions:[],isPublishing:!1,hideDescriptorField:!0,hideDescriptorVersionField:!0},render:vt};var He,je,Ge;Y.parameters={...Y.parameters,docs:{...(He=Y.parameters)==null?void 0:He.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    open: true,
    setOpen: () => null,
    onSubmit: () => null,
    versions: [],
    previousVersions: [],
    getVersionLabels: () => [],
    packagePermissions: [],
    isPublishing: false,
    hideDescriptorField: true,
    hideDescriptorVersionField: true
  },
  render: StoryComponent
}`,...(Ge=(je=Y.parameters)==null?void 0:je.docs)==null?void 0:Ge.source}}};const Qo=["DefaultStory"];export{Y as DefaultStory,Qo as __namedExportsOrder,Jo as default};
//# sourceMappingURL=VersionDialogForm.stories-e5561e87.js.map
