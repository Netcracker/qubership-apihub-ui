{"version":3,"file":"ConfirmationDialog.stories-bd8f9dbd.js","sources":["../../packages/shared/src/components/ConfirmationDialog/ConfirmationDialog.tsx"],"sourcesContent":["import { type FC, memo, useEffect } from 'react'\nimport { Box, Button, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton } from '@mui/material'\nimport { LoadingButton } from '@mui/lab'\nimport type { ButtonPropsColorOverrides } from '@mui/material/Button/Button'\nimport type { OverridableStringUnion } from '@mui/types'\nimport { DialogForm } from '../DialogForm'\nimport { CloseIcon } from '../../icons/CloseIcon'\n\nconst STYLE_DIALOG_TITLE = {\n  px: 2.5,\n  pt: 2.5,\n  pb: 0.5,\n}\n\nconst STYLE_DIALOG_CONTENT = {\n  minWidth: 420,\n  pl: 2.5,\n  pr: 6.5,\n  pb: 0.5,\n}\n\nconst STYLE_DIALOG_ACTIONS = {\n  px: 2.5,\n  pt: 1.5,\n  pb: 2.5,\n}\n\nexport type ConfirmationDialogProps = {\n  open: boolean\n  title?: string\n  message?: string\n  loading?: boolean\n  confirmButtonName?: string\n  confirmButtonColor?: ButtonColor\n  onConfirm?: () => void\n  onCancel?: () => void\n}\n\nexport const ConfirmationDialog: FC<ConfirmationDialogProps> = memo<ConfirmationDialogProps>(({\n  loading,\n  message,\n  onConfirm,\n  onCancel,\n  open,\n  title,\n  confirmButtonName = 'Delete',\n  confirmButtonColor = 'error',\n}) => {\n  useCloseOnSuccess(loading, onCancel)\n\n  return (\n    <DialogForm\n      open={open}\n      onClose={onCancel}\n      width=\"420px\"\n    >\n      <DialogTitle\n        sx={STYLE_DIALOG_TITLE}\n      >\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\">\n          {title}\n          <IconButton\n            onClick={onCancel}\n            sx={{ p: 0 }}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n\n      {message && (\n        <DialogContent sx={STYLE_DIALOG_CONTENT}>\n          <DialogContentText\n            variant=\"body2\"\n            data-testid=\"ConfirmationDialogContent\"\n          >\n            {message}\n          </DialogContentText>\n        </DialogContent>\n      )}\n\n      <DialogActions sx={STYLE_DIALOG_ACTIONS}>\n        <LoadingButton\n          variant=\"contained\"\n          color={confirmButtonColor}\n          loading={loading}\n          onClick={onConfirm}\n          data-testid={`${confirmButtonName}Button`}\n        >\n          {confirmButtonName}\n        </LoadingButton>\n        <Button\n          variant=\"outlined\"\n          disabled={loading}\n          onClick={onCancel}\n          data-testid=\"CancelButton\"\n        >\n          Cancel\n        </Button>\n      </DialogActions>\n    </DialogForm>\n  )\n})\n\nfunction useCloseOnSuccess(\n  loading?: boolean,\n  onClose?: () => void,\n): void {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    loading === false && onClose?.()\n  }, [loading])\n}\n\ntype ButtonColor = OverridableStringUnion<\n  'inherit' | 'primary' | 'secondary' | 'success' | 'error' | 'info' | 'warning',\n  ButtonPropsColorOverrides\n>\n"],"names":["STYLE_DIALOG_TITLE","STYLE_DIALOG_CONTENT","STYLE_DIALOG_ACTIONS","ConfirmationDialog","memo","loading","message","onConfirm","onCancel","open","title","confirmButtonName","confirmButtonColor","useCloseOnSuccess","jsxs","DialogForm","jsx","DialogTitle","Box","IconButton","CloseIcon","DialogContent","DialogContentText","DialogActions","LoadingButton","Button","onClose","useEffect"],"mappings":"w+CAQA,MAAAA,EAAA,CAA2B,GAAA,IACrB,GAAA,IACA,GAAA,EAEN,EAEAC,EAAA,CAA6B,SAAA,IACjB,GAAA,IACN,GAAA,IACA,GAAA,EAEN,EAEAC,EAAA,CAA6B,GAAA,IACvB,GAAA,IACA,GAAA,GAEN,EAaOC,EAAAC,EAAA,KAAA,CAAA,CAAuF,QAAAC,EAC5F,QAAAC,EACA,UAAAC,EACA,SAAAC,EACA,KAAAC,EACA,MAAAC,EACA,kBAAAC,EAAA,SACoB,mBAAAC,EAAA,OAEtB,KACEC,EAAAR,EAAAG,CAAA,EAEAM,EACEC,EAAC,CAAA,KAAAN,EACC,QAAAD,EACS,MAAA,QACH,SAAA,CAENQ,EAAAC,EAAC,CAAA,GAAAjB,EACK,SAAAc,EAAAI,EAAA,CAAA,QAAA,OAAA,eAAA,gBAAA,WAAA,aAAA,SAAA,CAGDR,EAAAM,EACDG,EAAC,CAAA,QAAAX,EACU,GAAA,CAAA,EAAA,CAAA,EACE,SAAAQ,EAAAI,EAAA,CAAA,SAAA,OAAA,CAAA,CAEiB,CAAA,CAC9B,EAAA,CACF,CAAA,EACFd,GAAAU,EAAAK,EAAA,CAAA,GAAApB,EAAA,SAAAe,EAIIM,EAAC,CAAA,QAAA,QACS,cAAA,4BACI,SAAAhB,CAEX,CAAA,EAAA,EAELQ,EAAAS,EAAA,CAAA,GAAArB,EAAA,SAAA,CAIAc,EAAAQ,EAAC,CAAA,QAAA,YACS,MAAAZ,EACD,QAAAP,EACP,QAAAE,EACS,cAAA,GAAAI,CAAA,SACwB,SAAAA,CAEhC,CAAA,EACHK,EACAS,EAAC,CAAA,QAAA,WACS,SAAApB,EACE,QAAAG,EACD,cAAA,eACG,SAAA,QACb,CAAA,CAED,EAAA,CACF,CAAA,CAAA,EAGN,EAEA,SAAAK,EAAAR,EAAAqB,EAAA,CAKEC,EAAAA,UAAA,IAAA,CACEtB,IAAA,KAAAqB,GAAA,MAAAA,IAA+B,EAAA,CAAArB,CAAA,CAAA,CAEnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}