import{j as e,a as m}from"./createTheme-d4c6d141.js";import{T as B,t as F}from"./theme-7b9e2985.js";import{r}from"./index-37ba2b57.js";import{D as H,u as V,a as W,b as j,f as h,g as q,c as P}from"./useResizeObserver-fcd31389.js";import{T as y}from"./TextWithOverflowTooltip-664ae472.js";import{T as o}from"./TableCellSkeleton-c35561e0.js";import{t as T}from"./tokens-23294093.js";import{U as C}from"./UserView-5299bd47.js";import{B as Y}from"./ButtonWithHint-46f7d1cb.js";import{D as $}from"./DeleteIcon-9a3e9e7a.js";import{a as G}from"./arrays-b0979955.js";import{c as J}from"./components-a7f02bf2.js";import{D as Q}from"./constants-e3f42350.js";import{F as X}from"./FormattedDate-b6fab360.js";import{T as _}from"./Typography-d1555f73.js";import{T as Z,a as ee,b as te}from"./TableHead-ecf4b65b.js";import{T as ae,a as p,b as S}from"./TableRow-9ee80158.js";import{P as re,C as oe}from"./Placeholder-7ab57df5.js";import{B as ie}from"./Box-11e4398c.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import"./useId-f6e37502.js";import"./useEnhancedEffect-9d60ea74.js";import"./GlobalStyles-a3183719.js";import"./emotion-react.browser.esm-f969ea94.js";import"./_commonjsHelpers-de833af9.js";import"./colors-f1dae8af.js";import"./palette-5681fdcb.js";import"./debounce-517eeb3c.js";import"./OverflowTooltip-b1a37a90.js";import"./Tooltip-d1587ebe.js";import"./clsx.m-6cf3b989.js";import"./ClassNameGenerator-bd600f10.js";import"./useThemeProps-90078124.js";import"./useTheme-0ad13214.js";import"./Popper-d07ae8ca.js";import"./ownerDocument-613eb639.js";import"./Portal-fc00eb8c.js";import"./isHostComponent-73d6e646.js";import"./TransitionGroupContext-f40e0036.js";import"./index-4da2af8c.js";import"./useControlled-1dfdd739.js";import"./Grow-452ed02c.js";import"./utils-0c060528.js";import"./inheritsLoose-5494d9cc.js";import"./Skeleton-e0fe84cc.js";import"./UserAvatar-76a752ba.js";import"./strings-8f296fda.js";import"./createSvgIcon-473ccb66.js";import"./EmptyUserIcon-1cd0c0e3.js";import"./LoadingButton-cb4d7c28.js";import"./Button-7fbb2719.js";import"./ButtonBase-1b5192e9.js";import"./assertThisInitialized-081f9914.js";import"./CircularProgress-76f8944a.js";import"./IconButton-c2813217.js";import"./extendSxProp-acc1143e.js";const c=r.memo(({data:i,isLoading:s,deleteApiKey:u,disableDelete:d=!1})=>{const[N,x]=r.useState(H),[M,O]=r.useState(),[,L]=r.useState(),g=r.useRef(null);V(g,x);const n=W({containerWidth:N,columnModels:me,columnSizingInfo:M,defaultMinColumnSize:45}),I=r.useMemo(()=>[{id:k,header:"Name",cell:({row:{original:{name:t}}})=>e(y,{tooltipText:t,children:e(_,{variant:"inherit",children:t})})},{id:U,header:"Roles",cell:({row:{original:{roles:t}}})=>e(y,{tooltipText:t.map(a=>T[a]).join(", "),children:e(_,{variant:"inherit",children:t.map(a=>T[a]).join(", ")})})},{id:A,header:"Created At",cell:({row:{original:{createdAt:t}}})=>e(X,{value:t})},{id:w,header:"Created By",cell:({row:{original:{createdBy:t}}})=>e(C,{name:t.name,avatarUrl:t.avatarUrl})},{id:R,header:"Created For",cell:({row:{original:{createdFor:t}}})=>e(C,{name:t.name,avatarUrl:t.avatarUrl})},{id:v,header:"",cell:({row:{original:{key:t,packageKey:a}}})=>e(Y,{"area-label":"delete",disabled:d,disableHint:!1,hint:d?"You do not have permission to generate token":"Delete",size:"small",sx:{visibility:"hidden",height:"20px"},className:"hoverable",startIcon:e($,{color:"#626D82"}),onClick:()=>u({key:t,packageKey:a}),"data-testid":"DeleteButton"})}],[u,d]),{getHeaderGroups:z,getRowModel:K,setColumnSizing:f}=j({data:i,columns:I,columnResizeMode:"onChange",getCoreRowModel:q(),getExpandedRowModel:P(),onColumnSizingChange:L,onColumnSizingInfoChange:O});return r.useEffect(()=>f(n),[f,n]),m(Z,{sx:{mt:1},ref:g,children:[m(ae,{children:[e(ee,{children:z().map(t=>e(p,{children:t.headers.map(a=>e(S,{align:"left",width:n?n[a.id]:a.getSize(),children:h(a.column.columnDef.header,a.getContext())},a.id))},t.id))}),m(te,{children:[K().rows.map(t=>e(p,{children:t.getVisibleCells().map(a=>e(S,{"data-testid":`Cell-${a.column.id}`,children:h(a.column.columnDef.cell,a.getContext())},a.column.id))})),s&&e(ne,{})]})]}),G(i)&&!s?e(re,{sx:{width:"inherit"},invisible:s,area:oe,message:"No Tokens"}):null]})}),ne=r.memo(()=>J(e(le,{}),Q)),le=r.memo(()=>m(p,{children:[e(o,{}),e(o,{}),e(o,{}),e(o,{}),e(o,{}),e(o,{})]})),k="name",U="roles",A="created-at",w="created-by",R="created-for",v="delete",me=[{name:k,width:300},{name:U,width:300},{name:A,width:120},{name:w,width:312},{name:R,width:312},{name:v,width:45}];try{c.displayName="TokensTable",c.__docgenInfo={description:"",displayName:"TokensTable",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Tokens"}},deleteApiKey:{defaultValue:null,description:"",name:"deleteApiKey",required:!0,type:{name:"DeleteApiKey"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},disableDelete:{defaultValue:null,description:"",name:"disableDelete",required:!1,type:{name:"boolean"}}}}}catch{}const se=[{key:"1",packageKey:"1",name:"cloud",createdAt:"11.12.12",createdBy:{key:"1",name:"Sergey",avatarUrl:""},createdFor:{key:"1",name:"Sergey",avatarUrl:""},roles:["Admin"]},{key:"2",packageKey:"2",name:"integration",createdAt:"11.12.12",createdBy:{key:"3",name:"User 2",avatarUrl:""},createdFor:{key:"1",name:"User 3",avatarUrl:""},roles:["Admin"]},{key:"3",packageKey:"3",name:"cloud",createdAt:"11.12.12",createdBy:{key:"3",name:"Sergey",avatarUrl:""},createdFor:{key:"1",name:"Sergey",avatarUrl:""},roles:["Admin"]},{key:"4",packageKey:"4",name:"test",createdAt:"11.12.12",createdBy:{key:"4",name:"Sergey",avatarUrl:""},createdFor:{key:"1",name:"User 44",avatarUrl:""},roles:["Admin"]}],ct={title:"Tokens Table",component:c,decorators:[i=>e(B,{theme:F,children:e(ie,{sx:{width:"1200px"},children:e(i,{})})})]},l={name:"Default",args:{data:se,isLoading:!1,disableDelete:!1,deleteApiKey:()=>console.log("deleteApiKey")}};var D,b,E;l.parameters={...l.parameters,docs:{...(D=l.parameters)==null?void 0:D.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    data: TOKENS_LIST,
    isLoading: false,
    disableDelete: false,
    deleteApiKey: () => console.log('deleteApiKey')
  }
}`,...(E=(b=l.parameters)==null?void 0:b.docs)==null?void 0:E.source}}};const ut=["DefaultStory"];export{l as DefaultStory,ut as __namedExportsOrder,ct as default};
//# sourceMappingURL=TokensTable.stories-99b61ada.js.map
