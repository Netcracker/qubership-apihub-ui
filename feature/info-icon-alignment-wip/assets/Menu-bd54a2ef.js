import{_ as b}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-dd1a14a8.js";import{_ as A,j as K}from"./createTheme-9d33d081.js";import{r}from"./index-37ba2b57.js";import"./index-891d46e9.js";import{c as U}from"./clsx.m-13724d00.js";import{a as se,g as ie,s as _,c as ae,r as ge}from"./styled-773bf9ba.js";import{u as ve}from"./useTheme-4b7dbaa5.js";import{u as le}from"./useThemeProps-424b9278.js";import{g as Pe,M as ye}from"./Modal-5a0bf94e.js";import{P as ce}from"./Paper-c477ee22.js";import{a as Me,u as ue}from"./TransitionGroupContext-373e5cc0.js";import{o as H}from"./ownerDocument-613eb639.js";import{o as ee}from"./ownerWindow-03d1c82d.js";import{d as be}from"./debounce-517eeb3c.js";import{G as we}from"./Grow-d4168f2f.js";import{L as xe}from"./List-c63ad2f9.js";const Re=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function W(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function te(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function fe(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function $(t,e,o,P,M,d){let h=!1,c=M(t,e,e?o:!1);for(;c;){if(c===t.firstChild){if(h)return!1;h=!0}const u=P?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!fe(c,d)||u)c=M(t,c,o);else return c.focus(),!0}return!1}const Ce=r.forwardRef(function(e,o){const{actions:P,autoFocus:M=!1,autoFocusItem:d=!1,children:h,className:c,disabledItemsFocusable:u=!1,disableListWrap:E=!1,onKeyDown:D,variant:L="selectedMenu"}=e,S=A(e,Re),s=r.useRef(null),v=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Me(()=>{M&&s.current.focus()},[M]),r.useImperativeHandle(P,()=>({adjustStyleForScrollbar:(n,a)=>{const f=!s.current.style.width;if(n.clientHeight<s.current.clientHeight&&f){const p=`${Pe(H(n))}px`;s.current.style[a.direction==="rtl"?"paddingLeft":"paddingRight"]=p,s.current.style.width=`calc(100% + ${p})`}return s.current}}),[]);const R=n=>{const a=s.current,f=n.key,p=H(a).activeElement;if(f==="ArrowDown")n.preventDefault(),$(a,p,E,u,W);else if(f==="ArrowUp")n.preventDefault(),$(a,p,E,u,te);else if(f==="Home")n.preventDefault(),$(a,null,E,u,W);else if(f==="End")n.preventDefault(),$(a,null,E,u,te);else if(f.length===1){const l=v.current,O=f.toLowerCase(),C=performance.now();l.keys.length>0&&(C-l.lastTime>500?(l.keys=[],l.repeating=!0,l.previousKeyMatched=!0):l.repeating&&O!==l.keys[0]&&(l.repeating=!1)),l.lastTime=C,l.keys.push(O);const m=p&&!l.repeating&&fe(p,l);l.previousKeyMatched&&(m||$(a,p,!1,u,W,l))?n.preventDefault():l.previousKeyMatched=!1}D&&D(n)},T=ue(s,o);let w=-1;r.Children.forEach(h,(n,a)=>{r.isValidElement(n)&&(n.props.disabled||(L==="selectedMenu"&&n.props.selected||w===-1)&&(w=a))});const I=r.Children.map(h,(n,a)=>{if(a===w){const f={};return d&&(f.autoFocus=!0),n.props.tabIndex===void 0&&L==="selectedMenu"&&(f.tabIndex=0),r.cloneElement(n,f)}return n});return K(xe,b({role:"menu",ref:T,className:c,onKeyDown:R,tabIndex:M?0:-1},S,{children:I}))}),Ee=Ce;function Te(t){return se("MuiPopover",t)}ie("MuiPopover",["root","paper"]);const De=["onEntering"],Ie=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function oe(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function ne(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function re(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function j(t){return typeof t=="function"?t():t}const Oe=t=>{const{classes:e}=t;return ae({root:["root"],paper:["paper"]},Te,e)},Se=_(ye,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Fe=_(ce,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Le=r.forwardRef(function(e,o){const P=le({props:e,name:"MuiPopover"}),{action:M,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:E,className:D,container:L,elevation:S=8,marginThreshold:s=16,open:v,PaperProps:R={},transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:w=we,transitionDuration:I="auto",TransitionProps:{onEntering:n}={}}=P,a=A(P.TransitionProps,De),f=A(P,Ie),p=r.useRef(),l=ue(p,R.ref),O=b({},P,{anchorOrigin:h,anchorReference:u,elevation:S,marginThreshold:s,PaperProps:R,transformOrigin:T,TransitionComponent:w,transitionDuration:I,TransitionProps:a}),C=Oe(O),m=r.useCallback(()=>{if(u==="anchorPosition")return c;const i=j(d),y=(i&&i.nodeType===1?i:H(p.current).body).getBoundingClientRect();return{top:y.top+oe(y,h.vertical),left:y.left+ne(y,h.horizontal)}},[d,h.horizontal,h.vertical,c,u]),F=r.useCallback(i=>({vertical:oe(i,T.vertical),horizontal:ne(i,T.horizontal)}),[T.horizontal,T.vertical]),G=r.useCallback(i=>{const g={width:i.offsetWidth,height:i.offsetHeight},y=F(g);if(u==="none")return{top:null,left:null,transformOrigin:re(y)};const X=m();let z=X.top-y.vertical,N=X.left-y.horizontal;const Y=z+g.height,q=N+g.width,J=ee(j(d)),Q=J.innerHeight-s,Z=J.innerWidth-s;if(z<s){const x=z-s;z-=x,y.vertical+=x}else if(Y>Q){const x=Y-Q;z-=x,y.vertical+=x}if(N<s){const x=N-s;N-=x,y.horizontal+=x}else if(q>Z){const x=q-Z;N-=x,y.horizontal+=x}return{top:`${Math.round(z)}px`,left:`${Math.round(N)}px`,transformOrigin:re(y)}},[d,u,m,F,s]),[pe,V]=r.useState(v),k=r.useCallback(()=>{const i=p.current;if(!i)return;const g=G(i);g.top!==null&&(i.style.top=g.top),g.left!==null&&(i.style.left=g.left),i.style.transformOrigin=g.transformOrigin,V(!0)},[G]),de=(i,g)=>{n&&n(i,g),k()},he=()=>{V(!1)};r.useEffect(()=>{v&&k()}),r.useImperativeHandle(M,()=>v?{updatePosition:()=>{k()}}:null,[v,k]),r.useEffect(()=>{if(!v)return;const i=be(()=>{k()}),g=ee(d);return g.addEventListener("resize",i),()=>{i.clear(),g.removeEventListener("resize",i)}},[d,v,k]);let B=I;I==="auto"&&!w.muiSupportAuto&&(B=void 0);const me=L||(d?H(j(d)).body:void 0);return K(Se,b({BackdropProps:{invisible:!0},className:U(C.root,D),container:me,open:v,ref:o,ownerState:O},f,{children:K(w,b({appear:!0,in:v,onEntering:de,onExited:he,timeout:B},a,{children:K(Fe,b({elevation:S},R,{ref:l,className:U(C.paper,R.className)},pe?void 0:{style:b({},R.style,{opacity:0})},{ownerState:O,children:E}))}))}))}),ke=Le;function ze(t){return se("MuiMenu",t)}ie("MuiMenu",["root","paper","list"]);const Ne=["onEntering"],Ke=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],$e={vertical:"top",horizontal:"right"},Ae={vertical:"top",horizontal:"left"},_e=t=>{const{classes:e}=t;return ae({root:["root"],paper:["paper"],list:["list"]},ze,e)},He=_(ke,{shouldForwardProp:t=>ge(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),We=_(ce,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),je=_(Ee,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Ue=r.forwardRef(function(e,o){const P=le({props:e,name:"MuiMenu"}),{autoFocus:M=!0,children:d,disableAutoFocusItem:h=!1,MenuListProps:c={},onClose:u,open:E,PaperProps:D={},PopoverClasses:L,transitionDuration:S="auto",TransitionProps:{onEntering:s}={},variant:v="selectedMenu"}=P,R=A(P.TransitionProps,Ne),T=A(P,Ke),w=ve(),I=w.direction==="rtl",n=b({},P,{autoFocus:M,disableAutoFocusItem:h,MenuListProps:c,onEntering:s,PaperProps:D,transitionDuration:S,TransitionProps:R,variant:v}),a=_e(n),f=M&&!h&&E,p=r.useRef(null),l=(m,F)=>{p.current&&p.current.adjustStyleForScrollbar(m,w),s&&s(m,F)},O=m=>{m.key==="Tab"&&(m.preventDefault(),u&&u(m,"tabKeyDown"))};let C=-1;return r.Children.map(d,(m,F)=>{r.isValidElement(m)&&(m.props.disabled||(v==="selectedMenu"&&m.props.selected||C===-1)&&(C=F))}),K(He,b({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?$e:Ae,PaperProps:b({component:We},D,{classes:b({},D.classes,{root:a.paper})}),className:a.root,open:E,ref:o,transitionDuration:S,TransitionProps:b({onEntering:l},R),ownerState:n},T,{classes:L,children:K(je,b({onKeyDown:O,actions:p,autoFocus:M&&(C===-1||h),autoFocusItem:f,variant:v},c,{className:U(a.list,c.className),children:d}))}))}),at=Ue;export{at as M,Ee as a};
//# sourceMappingURL=Menu-bd54a2ef.js.map
