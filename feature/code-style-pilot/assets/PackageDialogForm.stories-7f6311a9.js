import{_ as j,j as e,a as y}from"./createTheme-3f433a46.js";import{r as i}from"./index-37ba2b57.js";import{r as B,i as U,a as $}from"./jsx-runtime_commonjs-proxy-28857837.js";import{u as z,C as u}from"./index.esm-cb87e173.js";import{E as H,W as E,P as Z}from"./packages-3bb54737.js";import{a as Y}from"./constants-963f5fd0.js";import{d as J}from"./mui-fb0164d9.js";import{A as Q}from"./validations-a97f96db.js";import{D as X}from"./DialogForm-12b40e99.js";import{d as ee}from"./debounce-517eeb3c.js";import{D as te,a as re}from"./DialogTitle-75d3df80.js";import{D as oe}from"./DialogContent-adf1f79c.js";import{T as g}from"./TextField-3c0250c8.js";import{A as ae}from"./Autocomplete-bd4ef415.js";import{L as ie}from"./ListItem-9685675c.js";import{_ as x}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import{s as ne,c as se,a as le}from"./styled-ebc30f5f.js";import{u as me}from"./useThemeProps-6f68535c.js";import{g as de}from"./listItemIconClasses-1d4ab4d1.js";import{L as pe}from"./ListContext-aeaca2aa.js";import{L as ue}from"./ListItemText-ba7adc34.js";import{F as ce,C as fe}from"./FormControlLabel-5abf7f14.js";import{L as ge}from"./LoadingButton-aa070d1b.js";import{B as Ce}from"./Button-f40f854f.js";import{W as ye,G as _e}from"./packages-sample-6c8fee78.js";import"./_commonjsHelpers-de833af9.js";import"./createSvgIcon-5350b5dc.js";import"./index-420fbc32.js";import"./createChainedFunction-0bab83cf.js";import"./isMuiElement-de695f11.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./TransitionGroupContext-0440df69.js";import"./useId-f6e37502.js";import"./useControlled-1dfdd739.js";import"./files-ef0fb646.js";import"./apihub-builder.es-bf0e6a1e.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";import"./dialogTitleClasses-ff01d729.js";import"./useTheme-cfa4c669.js";import"./Modal-f2dc4c1a.js";import"./utils-cf3d21be.js";import"./inheritsLoose-5494d9cc.js";import"./index-4da2af8c.js";import"./Portal-6ea91f30.js";import"./isHostComponent-73d6e646.js";import"./Paper-260613e6.js";import"./Box-56201235.js";import"./extendSxProp-1e23d004.js";import"./Typography-de8bdcfd.js";import"./index-891d46e9.js";import"./Menu-982af263.js";import"./Grow-af5e6305.js";import"./List-4d5fe3c9.js";import"./GlobalStyles-f97aed57.js";import"./emotion-react.browser.esm-636148c3.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./IconButton-8d89ebab.js";import"./ButtonBase-3c58fb83.js";import"./assertThisInitialized-081f9914.js";import"./Popper-85bfdec6.js";import"./usePreviousProps-c4e5492e.js";import"./Chip-67104dc4.js";import"./listItemButtonClasses-bde5ad2f.js";import"./listItemTextClasses-f661df63.js";import"./CircularProgress-a7afda63.js";const Ie=["className"],ke=r=>{const{alignItems:a,classes:n}=r;return le({root:["root",a==="flex-start"&&"alignItemsFlexStart"]},de,n)},xe=ne("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(r,a)=>{const{ownerState:n}=r;return[a.root,n.alignItems==="flex-start"&&a.alignItemsFlexStart]}})(({theme:r,ownerState:a})=>x({minWidth:56,color:(r.vars||r).palette.action.active,flexShrink:0,display:"inline-flex"},a.alignItems==="flex-start"&&{marginTop:8})),be=i.forwardRef(function(a,n){const l=me({props:a,name:"MuiListItemIcon"}),{className:d}=l,_=j(l,Ie),s=i.useContext(pe),m=x({},l,{alignItems:s.alignItems}),c=ke(m);return e(xe,x({className:se(c.root,d),ownerState:m,ref:n},_))}),he=be;var L={},ve=U;Object.defineProperty(L,"__esModule",{value:!0});var P=L.default=void 0,Le=ve(B()),Se=$,De=(0,Le.default)((0,Se.jsx)("path",{d:"M6 15c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6-8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2C9.8 3 8 4.8 8 7s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6 12c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"}),"WorkspacesOutlined");P=L.default=De;const b=i.memo(()=>e("div",{style:{display:"flex"},children:y("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{cx:"10",cy:"10",r:"10",fill:"white"}),e("circle",{cx:"10",cy:"10",r:"10",fill:"#EDF1F5"}),e("path",{d:"M13.4529 9.02693C13.7781 9.05512 14.0872 9.11638 14.3703 9.27903C14.7967 9.52409 15.1235 9.91104 15.2939 10.3724C15.4069 10.6786 15.4157 10.9936 15.3891 11.319C15.3635 11.6328 15.2468 12.1169 15.2468 12.1169L15.1843 12.4021C15.1843 12.4021 15.0707 12.9949 15.0129 13.2279C14.952 13.4732 14.8712 13.7026 14.7286 13.9161C14.5091 14.2449 14.2011 14.505 13.8402 14.6666C13.6059 14.7714 13.3662 14.8127 13.1142 14.8317C12.8748 14.8498 12.5854 14.8498 12.2437 14.8498L7.73541 14.8498C7.39677 14.8498 7.10993 14.8498 6.87245 14.832C6.62242 14.8132 6.38459 14.7725 6.15173 14.669C5.79289 14.5097 5.48591 14.2529 5.26565 13.9278C5.12272 13.7169 5.04061 13.49 4.97795 13.2472C4.91844 13.0166 4.77026 12.4021 4.77026 12.4021L4.70362 12.122C4.62964 11.8708 4.60965 11.6667 4.57982 11.3394C4.54999 11.012 4.55589 10.6947 4.66759 10.3857C4.83576 9.9206 5.1627 9.52976 5.59081 9.28206C5.87516 9.11754 6.18645 9.05568 6.51393 9.02722C6.83006 8.99974 7.22159 8.99975 7.6919 8.99975H12.2848C12.7509 8.99975 13.1392 8.99974 13.4529 9.02693Z",fill:"#626D82"}),e("path",{d:"M7.24928 5.14941C6.08948 5.14941 5.14928 6.08962 5.14928 7.24941V7.78763C5.21926 7.75231 5.29075 7.71935 5.36365 7.68887C5.70153 7.54761 6.06682 7.48894 6.4879 7.46094C6.90056 7.43349 7.41245 7.43349 8.05473 7.4335L11.8836 7.4335C12.5213 7.43349 13.0297 7.43349 13.4398 7.4607C13.8584 7.48847 14.2216 7.54664 14.558 7.68659C14.6409 7.72105 14.7219 7.7587 14.801 7.79939C14.5949 6.85585 13.7546 6.14941 12.7493 6.14941L11.2347 6.14941C11.0676 6.14941 10.9038 6.10292 10.7617 6.01513L9.86741 5.46275C9.53577 5.25791 9.15366 5.14941 8.76385 5.14941H7.24928Z",fill:"#626D82"})]})}));try{b.displayName="GroupIcon",b.__docgenInfo={description:"",displayName:"GroupIcon",props:{}}}catch{}const h=i.memo(({open:r,setOpen:a,onSubmit:n,title:l,currentWorkspace:d,isLoading:_=!1,parentPackage:s,kind:m,packages:c=[],arePackagesLoading:V=!1,submitError:I,packageSearch:R="",onPackageSearch:f,submitText:S="Submit"})=>{const w=m===E,N=i.useMemo(()=>ee((t,o)=>f==null?void 0:f(o),Y),[f]),O=d&&d.name.toLowerCase().includes(R.toLowerCase()),G=i.useMemo(()=>({...H,kind:m,parentGroup:s==null?void 0:s.key}),[s,m]),{handleSubmit:W,control:p,setValue:T,reset:D,formState:{errors:k}}=z({defaultValues:G});return i.useEffect(()=>{!r&&D()},[r,D]),y(X,{open:r,onClose:()=>a(!1),onSubmit:W(n),children:[e(te,{children:l}),y(oe,{children:[e(u,{name:"name",control:p,render:({field:t})=>e(g,{...t,autoFocus:!0,required:!0,label:"Name","data-testid":"NameTextField"})}),!w&&e(u,{name:"parentGroup",control:p,render:()=>e(ae,{options:O?[d,...c]:c,loading:V,filterOptions:J,defaultValue:s,getOptionLabel:({name:t})=>t,renderOption:(t,{key:o,name:K,kind:M})=>i.createElement(ie,{...t,key:o},e(he,{sx:{minWidth:3,mr:1},children:M===E?e(v,{}):e(b,{})}),e(ue,{children:K})),isOptionEqualToValue:(t,o)=>t.key===o.key,renderInput:t=>e(g,{...t,required:!0,label:"Workspace/Parent Group"}),onChange:(t,o)=>T("parentGroup",(o==null?void 0:o.key)??""),onInputChange:N,"data-testid":"ParentAutocomplete"})}),e(u,{name:"alias",control:p,rules:{validate:Q},render:({field:t})=>{var o;return e(g,{...t,required:!0,label:"Alias",error:!!k.alias||!!I,helperText:!!k.alias&&((o=k.alias)==null?void 0:o.message)||!!I&&I.message,"data-testid":"AliasTextField"})}}),e(u,{name:"description",control:p,render:({field:t})=>e(g,{...t,multiline:!0,rows:"4",type:"text",label:"Description","data-testid":"DescriptionTextField"})}),e(u,{name:"packageVisibility",control:p,render:({field:t})=>e(ce,{...t,control:e(fe,{"data-testid":"PackageVisibilityCheckbox"}),label:"Private"})})]}),y(re,{children:[e(ge,{variant:"contained",type:"submit",loading:_,"data-testid":`${S}Button`,children:S}),e(Ce,{variant:"outlined",onClick:()=>a(!1),"data-testid":"CancelButton",children:"Cancel"})]})]})}),v=i.memo(()=>e(P,{sx:{height:"20px",width:"20px"}}));try{h.displayName="PackageDialogForm",h.__docgenInfo={description:"",displayName:"PackageDialogForm",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(value: boolean) => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: Readonly<{ key: string; alias: string; name: string; parentGroup?: string | undefined; kind: PackageKind; description?: string | undefined; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }>) => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:"enum",value:[{value:'"group"'},{value:'"package"'},{value:'"workspace"'},{value:'"dashboard"'}]}},currentWorkspace:{defaultValue:null,description:"",name:"currentWorkspace",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | undefined"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},parentPackage:{defaultValue:null,description:"",name:"parentPackage",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | null | undefined"}},packages:{defaultValue:null,description:"",name:"packages",required:!1,type:{name:"readonly Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }>[] | undefined"}},arePackagesLoading:{defaultValue:null,description:"",name:"arePackagesLoading",required:!1,type:{name:"boolean"}},submitError:{defaultValue:null,description:"",name:"submitError",required:!1,type:{name:"Error | null"}},packageSearch:{defaultValue:null,description:"",name:"packageSearch",required:!1,type:{name:"string"}},onPackageSearch:{defaultValue:null,description:"",name:"onPackageSearch",required:!1,type:{name:"((testFilter: string) => void)"}},submitText:{defaultValue:null,description:"",name:"submitText",required:!1,type:{name:"string"}}}}}catch{}try{v.displayName="WorkspaceIcon",v.__docgenInfo={description:"",displayName:"WorkspaceIcon",props:{}}}catch{}const Kt={component:h},C={name:"Default",args:{open:!0,setOpen:()=>null,onSubmit:()=>null,packages:[...ye,..._e],title:"Some Package Form",kind:Z}};var F,q,A;C.parameters={...C.parameters,docs:{...(F=C.parameters)==null?void 0:F.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    open: true,
    setOpen: () => null,
    onSubmit: () => null,
    packages: [...WORKSPACES, ...GROUPS],
    title: 'Some Package Form',
    kind: PACKAGE_KIND
  }
}`,...(A=(q=C.parameters)==null?void 0:q.docs)==null?void 0:A.source}}};const Mt=["DefaultStory"];export{C as DefaultStory,Mt as __namedExportsOrder,Kt as default};
//# sourceMappingURL=PackageDialogForm.stories-7f6311a9.js.map
