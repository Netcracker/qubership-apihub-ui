import{j as Y}from"./createTheme-3f433a46.js";import{l as g,m as M,E as H,R as P,U as I,M as w,a as x,e as k}from"./toggleHighContrast-522fbd98.js";import{r as S}from"./index-37ba2b57.js";import{V as z,W as d,X as m,Y as E,Z as _}from"./SpecificationDialog.stories-f20fa944.js";import{J as C,b,Y as D,d as X,O as B,e as J}from"./files-ef0fb646.js";import{u as Z}from"./useDebounce-c4a5dbf1.js";import{u as N}from"./useEffectOnce-12abbac4.js";import{f as W}from"./openapi-samples-e36fa9e2.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import"./iframe-83199f33.js";import"../sb-preview/runtime.js";import"./_commonjsHelpers-de833af9.js";import"./index-8d47fad6.js";import"./index-891d46e9.js";import"./arrays-4b61f5c5.js";import"./PopupDelegate-deae3236.js";import"./Paper-260613e6.js";import"./styled-ebc30f5f.js";import"./index-420fbc32.js";import"./useThemeProps-6f68535c.js";import"./CardHeader-704d7fcc.js";import"./Typography-de8bdcfd.js";import"./extendSxProp-1e23d004.js";import"./ToggleButton-721a5b77.js";import"./ButtonBase-3c58fb83.js";import"./emotion-react.browser.esm-636148c3.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./assertThisInitialized-081f9914.js";import"./inheritsLoose-5494d9cc.js";import"./TransitionGroupContext-0440df69.js";import"./dialogTitleClasses-ff01d729.js";import"./useTheme-cfa4c669.js";import"./Modal-f2dc4c1a.js";import"./utils-cf3d21be.js";import"./index-4da2af8c.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-6ea91f30.js";import"./isHostComponent-73d6e646.js";import"./useId-f6e37502.js";import"./DialogTitle-75d3df80.js";import"./Box-56201235.js";import"./IconButton-8d89ebab.js";import"./createSvgIcon-5350b5dc.js";import"./DialogContent-adf1f79c.js";import"./LoadingIndicator-141ad8cb.js";import"./CircularProgress-a7afda63.js";import"./index-270a4b4c.js";import"./constants-963f5fd0.js";import"./Placeholder-ea4208c7.js";import"./index-686a0dd6.js";import"./jsx-runtime_commonjs-proxy-28857837.js";import"./isMuiElement-de695f11.js";import"./debounce-517eeb3c.js";import"./useControlled-1dfdd739.js";import"./CustomChip-bf8fa283.js";import"./palette-8c6d2233.js";import"./Chip-67104dc4.js";import"./Button-f40f854f.js";import"./AccordionSummary-45a99270.js";import"./ListItemButton-b6e09fb5.js";import"./ListContext-aeaca2aa.js";import"./listItemButtonClasses-bde5ad2f.js";import"./ListItemText-ba7adc34.js";import"./listItemTextClasses-f661df63.js";import"./theme-d0738c15.js";import"./CssBaseline-6f22a330.js";import"./GlobalStyles-f97aed57.js";import"./apihub-builder.es-bf0e6a1e.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";function F(e,t,r){const o=new Map,a=s=>{if(t==="*")return!0;const l=s.getLanguageId();return Array.isArray(t)?t.includes(l):t===l},n=async s=>{const l=s.getVersionId(),y=await r.provideMarkerData(s);!s.isDisposed()&&l===s.getVersionId()&&a(s)&&e.editor.setModelMarkers(s,r.owner,y??[])},i=s=>{if(!a(s))return;let l;const y=s.onDidChangeContent(()=>{clearTimeout(l),l=setTimeout(()=>{n(s)},500)});o.set(s,{dispose(){clearTimeout(l),y.dispose()}}),n(s)},c=s=>{e.editor.setModelMarkers(s,r.owner,[]);const l=o.get(s);l&&(l.dispose(),o.delete(s))},p=e.editor.onDidCreateModel(i),u=e.editor.onWillDisposeModel(s=>{var l;c(s),(l=r.doReset)==null||l.call(r,s)}),v=e.editor.onDidChangeModelLanguage(({model:s})=>{var l;c(s),i(s),(l=r.doReset)==null||l.call(r,s)});for(const s of e.editor.getModels())i(s);return{dispose(){for(const s of o.keys())c(s);p.dispose(),u.dispose(),v.dispose()},async revalidate(){await Promise.all(e.editor.getModels().map(n))}}}function G(e,t){let{createData:r,interval:o=3e4,label:a,moduleId:n,stopWhenIdleFor:i=12e4}=t,c,p=0,u=!1;const v=()=>{c&&(c.dispose(),c=void 0)},s=setInterval(()=>{if(!c)return;Date.now()-p>i&&v()},o);return{dispose(){u=!0,clearInterval(s),v()},getWorker(...l){if(u)throw new Error("Worker manager has been disposed");return p=Date.now(),c||(c=e.editor.createWebWorker({createData:r,label:a,moduleId:n})),c.withSyncedResources(l)},updateCreateData(l){r=l,v()}}}var f="yaml";function Q(e){switch(e){case E.Error:return w.Error;case E.Warning:return w.Warning;case E.Information:return w.Info;case E.Hint:return w.Hint;default:return w.Info}}function $(e){switch(e){case _.Deprecated:return x.Deprecated;case _.Unnecessary:return x.Unnecessary}}function O(e){var t;return{severity:Q(e.severity),startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,message:e.message,code:String(e.code),source:e.source,tags:(t=e.tags)==null?void 0:t.map($)}}function L(e){return{owner:f,async provideMarkerData(t){return(await(await e(t.uri)).doValidation(String(t.uri))).map(O)},async doReset(t){await(await e(t.uri)).resetSchema(String(t.uri))}}}function T(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function h(e){if(e)return new P(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function A(e){return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function ee(e){return{message:e.message,range:A(e),code:typeof e.code=="object"?e.code.value:e.code,source:e.source}}function te(e){const t=g.CompletionItemKind;switch(e){case d.Text:return t.Text;case d.Method:return t.Method;case d.Function:return t.Function;case d.Constructor:return t.Constructor;case d.Field:return t.Field;case d.Variable:return t.Variable;case d.Class:return t.Class;case d.Interface:return t.Interface;case d.Module:return t.Module;case d.Property:return t.Property;case d.Unit:return t.Unit;case d.Value:return t.Value;case d.Enum:return t.Enum;case d.Keyword:return t.Keyword;case d.Snippet:return t.Snippet;case d.Color:return t.Color;case d.File:return t.File;case d.Reference:return t.Reference;default:return t.Property}}function V(e){if(e)return{range:h(e.range),text:e.newText}}function re(e){return{triggerCharacters:[" ",":"],async provideCompletionItems(t,r){const o=t.uri,n=await(await e(o)).doComplete(String(o),T(r));if(!n)return;const i=t.getWordUntilPosition(r),c=new P(r.lineNumber,i.startColumn,r.lineNumber,i.endColumn),p=n.items.map(u=>{const v={label:u.label,insertText:u.insertText||u.label,sortText:u.sortText,filterText:u.filterText,documentation:u.documentation,detail:u.detail,kind:te(u.kind),range:c};return u.textEdit&&(v.range=h("range"in u.textEdit?u.textEdit.range:u.textEdit.replace),v.insertText=u.textEdit.newText),u.additionalTextEdits&&(v.additionalTextEdits=u.additionalTextEdits.map(V)),u.insertTextFormat===z.Snippet&&(v.insertTextRules=g.CompletionItemInsertTextRule.InsertAsSnippet),v});return{incomplete:n.isIncomplete,suggestions:p}}}}function ne(e){return{originSelectionRange:h(e.originSelectionRange),range:h(e.targetRange),targetSelectionRange:h(e.targetSelectionRange),uri:I.parse(e.targetUri)}}function oe(e){return{async provideDefinition(t,r){const o=t.uri,n=await(await e(o)).doDefinition(String(o),T(r));return n==null?void 0:n.map(ne)}}}function ae(e){return{async provideHover(t,r){const o=t.uri,n=await(await e(o)).doHover(String(o),T(r));if(n)return{range:h(n.range),contents:[{value:n.contents.value}]}}}}function ie(e){const t=g.SymbolKind;switch(e){case m.File:return t.Array;case m.Module:return t.Module;case m.Namespace:return t.Namespace;case m.Package:return t.Package;case m.Class:return t.Class;case m.Method:return t.Method;case m.Property:return t.Property;case m.Field:return t.Field;case m.Constructor:return t.Constructor;case m.Enum:return t.Enum;case m.Interface:return t.Interface;case m.Function:return t.Function;case m.Variable:return t.Variable;case m.Constant:return t.Constant;case m.String:return t.String;case m.Number:return t.Number;case m.Boolean:return t.Boolean;case m.Array:return t.Array;default:return t.Function}}function q(e){return{detail:e.detail||"",range:h(e.range),name:e.name,kind:ie(e.kind),selectionRange:h(e.selectionRange),children:e.children.map(q),tags:[]}}function se(e){return{async provideDocumentSymbols(t){const r=t.uri,a=await(await e(r)).findDocumentSymbols(String(r));if(a)return a.map(q)}}}function ce(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces,...e}}function ue(e){return{async provideDocumentFormattingEdits(t,r){const o=t.uri,n=await(await e(o)).format(String(o),ce(r));if(!(!n||n.length===0))return n.map(V)}}}function le(e){return{range:h(e.range),tooltip:e.tooltip,url:e.target}}function de(e){return{async provideLinks(t){const r=t.uri;return{links:(await(await e(r)).findLinks(String(r))).map(le)}}}}function me(e){const t=[];for(const[r,o]of Object.entries(e.changes))for(const a of o)t.push({resource:I.parse(r),edit:{text:a.newText,range:h(a.range)}});return{edits:t}}function pe(e){var t;return{title:e.title,diagnostics:e.diagnostics.map(O),disabled:(t=e.disabled)==null?void 0:t.reason,edit:me(e.edit),kind:e.kind,isPreferred:e.isPreferred}}function ge(e){return{async provideCodeActions(t,r,o){const a=t.uri;return{actions:(await(await e(a)).getCodeAction(String(a),A(r),o.markers.map(ee))).map(pe),dispose(){}}}}}var fe={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:g.IndentAction.Indent}}]};function ve(e){const t=G(M,{label:"yaml",moduleId:"monaco-yaml/yaml.worker",createData:{languageSettings:e.diagnosticsOptions,enableSchemaRequest:e.diagnosticsOptions.enableSchemaRequest}});e.onDidChange(()=>{t.updateCreateData({languageSettings:e.diagnosticsOptions,enableSchemaRequest:e.diagnosticsOptions.enableSchemaRequest})}),g.registerCompletionItemProvider(f,re(t.getWorker)),g.registerHoverProvider(f,ae(t.getWorker)),g.registerDefinitionProvider(f,oe(t.getWorker)),g.registerDocumentSymbolProvider(f,se(t.getWorker)),g.registerDocumentFormattingEditProvider(f,ue(t.getWorker)),g.registerLinkProvider(f,de(t.getWorker)),g.registerCodeActionProvider(f,ge(t.getWorker)),g.setLanguageConfiguration(f,fe);let r=F(M,f,L(t.getWorker));e.onDidChange(()=>{r.dispose(),r=F(M,f,L(t.getWorker))})}var K={completion:!0,customTags:[],enableSchemaRequest:!1,format:!0,isKubernetes:!1,hover:!0,schemas:[],validate:!0,yamlVersion:"1.2"};function he(e){const t=new H;let r=e;const o={get onDidChange(){return t.event},get diagnosticsOptions(){return r},setDiagnosticsOptions(a){r={...K,...a},t.fire(o)}};return o}var U=he(K);g.register({id:f,extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]});g.onLanguage("yaml",()=>{ve(U)});function Se(e={}){U.setDiagnosticsOptions(e)}function we(){const e=(t,...r)=>r.map(o=>`${t}/*${o}`);Se({enableSchemaRequest:!0,hover:!0,completion:!0,validate:!0,format:!0,schemas:[{uri:"/schemas/openapi/2.0.json",fileMatch:e(X,D,b,C)},{uri:"/schemas/openapi/3.0.json",fileMatch:e(B,D,b,C)},{uri:"/schemas/openapi/3.1.json",fileMatch:e(J,D,b,C)}]})}function ke(e,t,r){const[o,a]=S.useState("");Z(()=>r==null?void 0:r(o),500,[o]),S.useEffect(()=>{const n=Ee(e),i=n==null?void 0:n.onFindReplaceStateChange(({searchString:c})=>{c&&a(n._searchString)});return i==null?void 0:i.dispose},[e]),N(()=>{var c,p,u;const n=e.current;if(!t||!n)return;a(t);const i=(p=(c=n.getModel())==null?void 0:c.findMatches(t,!1,!1,!1,null,!0)[0])==null?void 0:p.range;i&&n.setSelection(i),(u=n.getAction("actions.find"))==null||u.run().then()})}function Ee(e){var t,r;return(r=(t=e.current)==null?void 0:t.getContribution("editor.contrib.findController"))==null?void 0:r.getState()}function j(e,t){e.revealLineNearTop(t,k.ScrollType.Smooth),e.setPosition({lineNumber:t,column:0}),e.focus()}function ye(e,t){S.useEffect(()=>{var a;const r=e.current;if(!r)return;const o=(a=r.getModel())==null?void 0:a.getValue();if(t&&o){const n=W(o,t);if(n){const i=n==null?void 0:n.range.start.line;j(r,i+1)}}},[e,t])}function Me(e,t){const[r,o]=S.useState(void 0);S.useEffect(()=>{const a=e==null?void 0:e.current;if(!a||!t)return;r||o(a.createDecorationsCollection());const n=W(a.getValue(),t);if(n){const i=n==null?void 0:n.range.start.line,c=n==null?void 0:n.range.end.line,p=[{range:new P(i+1,0,c+1,0),options:{isWholeLine:!1,marginClassName:"MonacoSelectedDecorator"}}];r==null||r.set(p),j(a,i+1)}return()=>{r==null||r.clear()}},[r,e,t])}function Ce(e,t,r,o){N(()=>{const a=k.createModel(r,o);return k.defineTheme("custom",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#FFFFFF"}}),t.current=k.create(e.current,{minimap:{enabled:!0},hover:{above:!1},automaticLayout:!0,readOnly:!0,wordWrap:"on",tabSize:2,model:a,glyphMargin:!0,theme:"custom"}),()=>{var n,i,c;(i=(n=t.current)==null?void 0:n.getModel())==null||i.dispose(),(c=t.current)==null||c.dispose()}})}function be(e,t,r,o){const a=`${r}/*.${o}`;S.useEffect(()=>{const n=e.current;if(n)return n.setModel(k.createModel(t,o,I.parse(a))),()=>{var i,c;(i=n.getModel())==null||i.dispose(),(c=n.getModel())==null||c.dispose()}},[e,t,o,a])}we();function De(e){const{value:t,type:r,language:o,selectedUri:a,searchPhrase:n,onSearchPhraseChange:i}=e,c=S.useRef(null),p=S.useRef();return Ce(c,p,t,o),be(p,t,r,o),Me(p,a),ye(p,a),ke(p,n,i),c}const R=S.memo(({value:e,type:t,language:r,selectedUri:o,searchPhrase:a,onSearchPhraseChange:n})=>{const i=De({value:e,type:t,language:r,selectedUri:o,searchPhrase:a,onSearchPhraseChange:n});return Y("div",{ref:i,style:{height:"100%"}})});try{R.displayName="MonacoEditorElement",R.__docgenInfo={description:"",displayName:"MonacoEditorElement",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"graphql"'},{value:'"openapi-3-1"'},{value:'"openapi-3-0"'},{value:'"openapi-2-0"'},{value:'"openapi"'},{value:'"asyncapi-2"'},{value:'"json-schema"'},{value:'"markdown"'},{value:'"unknown"'},{value:'"graphql-schema"'},{value:'"graphapi"'},{value:'"introspection"'},{value:'"protobuf-3"'}]}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"graphql"'},{value:'"markdown"'},{value:'"yaml"'},{value:'"json"'},{value:'"proto"'}]}},selectedUri:{defaultValue:null,description:"",name:"selectedUri",required:!1,type:{name:"string"}},searchPhrase:{defaultValue:null,description:"",name:"searchPhrase",required:!1,type:{name:"string"}},onSearchPhraseChange:{defaultValue:null,description:"",name:"onSearchPhraseChange",required:!1,type:{name:"((value: string) => void)"}}}}}catch{}export{R as default};
//# sourceMappingURL=MonacoEditorElement-c814b4dd.js.map
