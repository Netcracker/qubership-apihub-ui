{"version":3,"file":"FileUpload-128821b5.js","sources":["../../packages/shared/src/components/FileUpload.tsx"],"sourcesContent":["/**\n * Copyright 2024-2025 NetCracker Technology Corporation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Box } from '@mui/material'\nimport type { DragEvent, FC, PropsWithChildren } from 'react'\nimport { memo, useMemo, useState } from 'react'\n\nexport type FileUploadProps = PropsWithChildren<{\n  acceptableFileTypes?: string[]\n  onDrop: (event: DragEvent<HTMLElement>) => void\n}>\n\n// TODO: Replace with native `FileUpload` component when it will be ready\n//  Details: https://mui.com/material-ui/discover-more/roadmap/#main-content\nexport const FileUpload: FC<FileUploadProps> = memo<FileUploadProps>(({ acceptableFileTypes, onDrop, children }) => {\n  const [isDragOver, setIsDragOver] = useState<boolean>(false)\n\n  const dragEvents = useMemo(\n    () => ({\n      onDragEnter: (event: DragEvent<HTMLElement>): void => {\n        event.stopPropagation()\n        event.preventDefault()\n        setIsDragOver(true)\n      },\n      onDragLeave: (event: DragEvent<HTMLElement>): void => {\n        event.stopPropagation()\n        event.preventDefault()\n        setIsDragOver(false)\n      },\n      onDragOver: (event: DragEvent<HTMLElement>): void => {\n        event.stopPropagation()\n        event.preventDefault()\n      },\n      onDrop: (event: DragEvent<HTMLElement>): void => {\n        event.stopPropagation()\n        event.preventDefault()\n        setIsDragOver(false)\n        onDrop(event)\n      },\n    }),\n    [onDrop],\n  )\n\n  if (!isDragOver) {\n    return (\n      <Box\n        {...dragEvents}\n        children={children}\n      />\n    )\n  }\n\n  return (\n    <Box\n      component=\"label\"\n      {...dragEvents}\n      htmlFor=\"file-upload\"\n      sx={{\n        overflow: 'hidden',\n        cursor: 'pointer',\n        textAlign: 'center',\n        display: 'flex',\n        '&:hover p,&:hover svg,& img': { opacity: 1 },\n        '& p, svg': { opacity: 1 },\n        '&:hover img': { opacity: 0.3 },\n        '& img': { opacity: 0.3 },\n      }}\n    >\n      <Box\n        component=\"input\"\n        id=\"file-upload\"\n        multiple\n        type=\"file\"\n        accept={acceptableFileTypes?.toString()}\n        sx={{ display: 'none' }}\n        data-testid=\"FileUpload\"\n      />\n\n      <Box\n        sx={{\n          pointerEvents: 'none',\n          backgroundColor: 'rgba(242, 243, 245, 0.4)',\n          border: '1px dashed #B4BFCF',\n          boxSizing: 'border-box',\n          borderRadius: '10px',\n          width: 1,\n          height: 1,\n        }}\n        children={children}\n      />\n    </Box>\n  )\n})\n"],"names":["FileUpload","memo","acceptableFileTypes","onDrop","children","isDragOver","setIsDragOver","useState","dragEvents","useMemo","event","jsxs","Box","jsx"],"mappings":"mIA2BO,MAAAA,EAAAC,EAAA,KAAA,CAAA,CAAA,oBAAAC,EAAA,OAAAC,EAAA,SAAAC,CAAA,IAAA,CACL,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEAC,EAAAC,EAAA,QAAmB,KAAA,CACV,YAAAC,GAAA,CAEHA,EAAA,gBAAA,EACAA,EAAA,eAAA,EACAJ,EAAA,EAAA,CAAkB,EACpB,YAAAI,GAAA,CAEEA,EAAA,gBAAA,EACAA,EAAA,eAAA,EACAJ,EAAA,EAAA,CAAmB,EACrB,WAAAI,GAAA,CAEEA,EAAA,gBAAA,EACAA,EAAA,eAAA,CAAqB,EACvB,OAAAA,GAAA,CAEEA,EAAA,gBAAA,EACAA,EAAA,eAAA,EACAJ,EAAA,EAAA,EACAH,EAAAO,CAAA,CAAY,CACd,GACF,CAAAP,CAAA,CACO,EAGT,OAAAE,EASAM,EACEC,EAAC,CAAA,UAAA,QACW,GAAAJ,EACN,QAAA,cACI,GAAA,CACJ,SAAA,SACQ,OAAA,UACF,UAAA,SACG,QAAA,OACF,8BAAA,CAAA,QAAA,CAAA,EACmC,WAAA,CAAA,QAAA,CAAA,EACnB,cAAA,CAAA,QAAA,EAAA,EACK,QAAA,CAAA,QAAA,EAAA,CACN,EAC1B,SAAA,CAEAK,EAAAD,EAAC,CAAA,UAAA,QACW,GAAA,cACP,SAAA,GACK,KAAA,OACH,OAAAV,GAAA,YAAAA,EAAA,WACiC,GAAA,CAAA,QAAA,MAAA,EAChB,cAAA,YACV,CAAA,EACdW,EAEAD,EAAC,CAAA,GAAA,CACK,cAAA,OACa,gBAAA,2BACE,OAAA,qBACT,UAAA,aACG,aAAA,OACG,MAAA,EACP,OAAA,CACC,EACV,SAAAR,CACA,CAAA,CACF,CAAA,CAAA,EA7CFS,EACED,EAAC,CAAA,GAAAJ,EACK,SAAAJ,CACJ,CAAA,CA6CR,CAAA"}