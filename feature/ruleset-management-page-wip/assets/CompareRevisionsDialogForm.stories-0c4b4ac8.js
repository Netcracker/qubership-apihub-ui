import{j as e,a as l}from"./createTheme-1a4eaa7d.js";import{r as s}from"./index-37ba2b57.js";import{C as S,u as D}from"./index.esm-cb87e173.js";import{D as L}from"./DialogForm-e27d461f.js";import{C as I}from"./CustomChip-76e35951.js";import{S as E}from"./Swapper-f69e351b.js";import{T as f}from"./Typography-9c382c21.js";import{R as V}from"./versions-70d9f53b.js";import{D as N,a as F}from"./DialogTitle-018ba7cd.js";import{D as q}from"./DialogContent-fbae5ee8.js";import{B as y}from"./Box-b2cfc4a3.js";import{L as B}from"./LoadingButton-44cf3419.js";import{B as O}from"./Button-be4f8097.js";import{A as U}from"./Autocomplete-154ca838.js";import{T as w}from"./TextField-602692c9.js";import{L as M}from"./ListItem-87be8be4.js";import{R as P,D as k}from"./version-status-fb60f024.js";import{U as b}from"./principals-9d3b18d7.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import"./_commonjsHelpers-de833af9.js";import"./dialogTitleClasses-74e43030.js";import"./clsx.m-1b02dc9e.js";import"./index-1bdc7346.js";import"./useThemeProps-8ef67cb9.js";import"./useTheme-ae4b0b2e.js";import"./Modal-6c4f247b.js";import"./utils-cdc9c8cb.js";import"./inheritsLoose-5494d9cc.js";import"./index-4da2af8c.js";import"./TransitionGroupContext-0440df69.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-a8892b29.js";import"./isHostComponent-73d6e646.js";import"./Paper-0d6d8d46.js";import"./useId-f6e37502.js";import"./palette-8c6d2233.js";import"./Chip-0d487cf4.js";import"./createSvgIcon-2db0a94c.js";import"./ButtonBase-b3aed2fe.js";import"./emotion-react.browser.esm-5b9d3e5b.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./assertThisInitialized-081f9914.js";import"./jsx-runtime_commonjs-proxy-3443f841.js";import"./debounce-517eeb3c.js";import"./isMuiElement-de695f11.js";import"./useControlled-1dfdd739.js";import"./Tooltip-745b8e8d.js";import"./Popper-3e330eba.js";import"./Grow-bf76b499.js";import"./IconButton-5b25e58c.js";import"./extendSxProp-287b071a.js";import"./CircularProgress-f64d8f8b.js";import"./usePreviousProps-c4e5492e.js";import"./index-891d46e9.js";import"./Menu-7e0057a3.js";import"./List-af36be1a.js";import"./ListContext-aeaca2aa.js";import"./GlobalStyles-3b0a9260.js";import"./listItemButtonClasses-177033ed.js";import"./package-permissions-7239f49d.js";const R=s.memo(({latest:i=!1})=>e(f,{variant:"subtitle2",fontSize:13,children:`${i?" (latest)":""}`}));try{R.displayName="LatestRevisionMark",R.__docgenInfo={description:"",displayName:"LatestRevisionMark",props:{latest:{defaultValue:null,description:"",name:"latest",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const u=s.memo(({open:i,setOpen:t,setValue:n,control:a,onSubmit:m,onSwap:d,isApiTypeFetching:c,originalRevisions:o,changedRevisions:r,isRevisionsLoading:h})=>l(L,{open:i,onClose:()=>t(!1),onSubmit:m,maxWidth:"md",children:[e(N,{children:"Select Revisions To Compare"}),l(q,{sx:j,children:[e(f,{sx:{gridArea:"originalTitle"},variant:"button",children:"Previous"}),e(S,{name:"originalRevision",control:a,render:({field:{value:g,onChange:v}})=>e(T,{value:g,onChange:v,controllerName:"originalRevision",revisions:o,isLoading:h,setValue:()=>n("originalRevision",null),dataTestId:"PreviousRevisionAutocomplete"})}),e(y,{sx:{gridArea:"swapper",alignSelf:"center"},children:e(E,{onSwap:d})}),e(f,{sx:{gridArea:"changedTitle"},variant:"button",children:"Current"}),e(S,{name:"changedRevision",control:a,render:({field:{value:g,onChange:v}})=>e(T,{value:g,onChange:v,controllerName:"changedRevision",revisions:r,isLoading:h,setValue:()=>n("changedRevision",null),dataTestId:"CurrentRevisionAutocomplete"})})]}),l(F,{children:[e(B,{variant:"contained",type:"submit",loading:c,"data-testid":"CompareButton",children:"Compare"}),e(O,{variant:"outlined",onClick:()=>t(!1),"data-testid":"CancelButton",children:"Cancel"})]})]})),T=s.memo(({value:i,onChange:t,controllerName:n,revisions:a,isLoading:m,setValue:d,dataTestId:c})=>e(U,{sx:{gridArea:n},value:i??null,loading:m,options:m?[]:a,getOptionLabel:o=>`${V}${o.revision}`,isOptionEqualToValue:(o,r)=>o.revision===r.revision,renderOption:(o,r)=>e($,{revision:r,props:o}),renderInput:o=>e(w,{...o,required:!0,label:"Revision"}),onChange:(o,r)=>{d(),t(r)},"data-testid":c})),$=s.memo(({revision:i,props:t})=>s.createElement(M,{...t,key:i.revision},l(y,{width:"100%",display:"flex",justifyContent:"space-between",children:[l(y,{display:"flex",gap:"4px",alignItems:"center",children:[`${V}${i.revision}`,e(R,{latest:i.latestRevision})]}),e(I,{value:i.status})]}))),j={display:"grid",columnGap:1,gridTemplateRows:"repeat(2, max-content)",gridTemplateColumns:"300px max-content 300px",gridTemplateAreas:`
    'originalTitle      originalTitle   changedTitle'
    'originalRevision   swapper         changedRevision'
  `};try{u.displayName="CompareRevisionsDialogForm",u.__docgenInfo={description:"",displayName:"CompareRevisionsDialogForm",props:{control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"Control<CompareRevisionsDialogFormData, any>"}},setValue:{defaultValue:null,description:"",name:"setValue",required:!0,type:{name:"UseFormSetValue<CompareRevisionsDialogFormData>"}},originalRevisions:{defaultValue:null,description:"",name:"originalRevisions",required:!0,type:{name:"readonly Readonly<{ revision: number; version: string; latestRevision: boolean; status: VersionStatus; createdBy: Principal; createdAt: string; revisionLabels?: string[] | undefined; publishMeta?: Partial<...> | undefined; }>[]"}},changedRevisions:{defaultValue:null,description:"",name:"changedRevisions",required:!0,type:{name:"readonly Readonly<{ revision: number; version: string; latestRevision: boolean; status: VersionStatus; createdBy: Principal; createdAt: string; revisionLabels?: string[] | undefined; publishMeta?: Partial<...> | undefined; }>[]"}},isApiTypeFetching:{defaultValue:null,description:"",name:"isApiTypeFetching",required:!0,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},onSwap:{defaultValue:null,description:"",name:"onSwap",required:!0,type:{name:"() => void"}},isRevisionsLoading:{defaultValue:null,description:"",name:"isRevisionsLoading",required:!0,type:{name:"boolean | undefined"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(value: boolean) => void"}}}}}catch{}const A=[{revision:2,version:"2.6@2",latestRevision:!1,status:P,createdBy:{type:b,id:"user1221",name:"Name Surname",email:"name.surname@example.com",avatarUrl:"string"},createdAt:"2023-10-06T14:33:44.550622Z",revisionLabels:["my-cloud-label"],publishMeta:{commitKey:"a5d45af7",repositoryUrl:"https://git.example.com/APIHUB/apihub-registry",cloudName:"my-cloud",cloudUrl:"https://cloud.example.com",namespace:"my-cloud-release2"}},{revision:3,version:"2.6@3",latestRevision:!0,status:k,createdBy:{type:b,id:"user1221",name:"Name Surname",email:"name.surname@example.com",avatarUrl:"string"},createdAt:"2023-10-05T14:33:44.550622Z",revisionLabels:["my-cloud-label"],publishMeta:{commitKey:"a5d45af7",repositoryUrl:"https://git.example.com/APIHUB/apihub-registry",cloudName:"my-cloud",cloudUrl:"https://cloud.example.com",namespace:"my-cloud-namespace"}}],Xe={component:u},G=i=>{const t=s.useMemo(()=>({changedRevision:null,originalRevision:null}),[]),{control:n,setValue:a}=D({defaultValues:t});return e(u,{...i,control:n,setValue:a})},p={name:"Default",args:{open:!0,setOpen:()=>null,onSubmit:()=>null,onSwap:()=>null,originalRevisions:A,changedRevisions:A,isApiTypeFetching:!1,isRevisionsLoading:!1},render:G};var C,x,_;p.parameters={...p.parameters,docs:{...(C=p.parameters)==null?void 0:C.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    open: true,
    setOpen: () => null,
    onSubmit: () => null,
    onSwap: () => null,
    originalRevisions: revisions,
    changedRevisions: revisions,
    isApiTypeFetching: false,
    isRevisionsLoading: false
  },
  render: StoryComponent
}`,...(_=(x=p.parameters)==null?void 0:x.docs)==null?void 0:_.source}}};const ei=["DefaultStory"];export{p as DefaultStory,ei as __namedExportsOrder,Xe as default};
//# sourceMappingURL=CompareRevisionsDialogForm.stories-0c4b4ac8.js.map
