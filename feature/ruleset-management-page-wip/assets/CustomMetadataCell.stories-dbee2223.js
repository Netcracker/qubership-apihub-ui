import{a as n,j as e}from"./createTheme-1a4eaa7d.js";import{r as i}from"./index-37ba2b57.js";import{i as q,C as b}from"./CustomTagsTree-c37536fa.js";import{I as A}from"./InfoContextIcon-cbfe88f3.js";import{O as P}from"./OverflowTooltip-7ef395b6.js";import{B as z}from"./ButtonWithHint-21fb07a6.js";import{B as o}from"./Box-b2cfc4a3.js";import{T as c}from"./Typography-9c382c21.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import"./_commonjsHelpers-de833af9.js";import"./jsx-runtime_commonjs-proxy-3443f841.js";import"./createSvgIcon-2db0a94c.js";import"./clsx.m-1b02dc9e.js";import"./index-1bdc7346.js";import"./useThemeProps-8ef67cb9.js";import"./createChainedFunction-0bab83cf.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./TransitionGroupContext-0440df69.js";import"./debounce-517eeb3c.js";import"./isMuiElement-de695f11.js";import"./useId-f6e37502.js";import"./useControlled-1dfdd739.js";import"./Tooltip-745b8e8d.js";import"./useTheme-ae4b0b2e.js";import"./Popper-3e330eba.js";import"./Portal-a8892b29.js";import"./isHostComponent-73d6e646.js";import"./index-4da2af8c.js";import"./Grow-bf76b499.js";import"./utils-cdc9c8cb.js";import"./inheritsLoose-5494d9cc.js";import"./LoadingButton-44cf3419.js";import"./Button-be4f8097.js";import"./ButtonBase-b3aed2fe.js";import"./emotion-react.browser.esm-5b9d3e5b.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./assertThisInitialized-081f9914.js";import"./CircularProgress-f64d8f8b.js";import"./IconButton-5b25e58c.js";import"./extendSxProp-287b071a.js";const w=2,C=16,f=i.memo(({metaData:u,textFilter:s})=>{const l=i.useMemo(()=>{const t=Object.entries(u);return s?t.sort(([r,m],[$,B])=>{const L=`${r}: ${m}`,V=`${$}: ${B}`;return Number(V.includes(s))-Number(L.includes(s))}):t},[u,s]),x=i.useMemo(()=>Object.fromEntries(l),[l]),h=i.useMemo(()=>l.map(([t,r])=>({key:t,value:r})),[l]),a=i.useMemo(()=>h.slice(0,w),[h]),I=i.useMemo(()=>a.some(t=>typeof t.value=="object"),[a]),N=Object.entries(h||[]).length>w,[j,g]=i.useState(!1),E=()=>g(!1),F=()=>g(!0),H=t=>Array.from(t.querySelectorAll(".tagLine").values()).some(m=>m.scrollWidth>m.clientWidth),v=N||I,y=n(o,{display:"flex",flexDirection:"row",children:[e(o,{width:"fit-content",maxWidth:`calc(100% - ${C}px)`,sx:{textWrap:"nowrap"},children:e(o,{overflow:"hidden",children:a==null?void 0:a.map(({key:t,value:r})=>q(r)?n(o,{className:"tagLine",overflow:"hidden",textOverflow:"ellipsis",children:[n(c,{display:"inline",minWidth:"fit-content",variant:"subtitle1",children:[t,": "]}),e(c,{display:"inline",variant:"body2",children:`${r}`})]},t):n(o,{overflow:"hidden",textOverflow:"ellipsis",children:[n(c,{display:"inline",minWidth:"fit-content",variant:"subtitle1",children:[t,": "]}),e(c,{display:"inline",variant:"body2",children:"..."})]},t))})}),v&&e(o,{alignSelf:"end",height:"23px",display:"flex",alignItems:"center",children:e(z,{"area-label":"info",hint:e(o,{overflow:"scroll",maxHeight:"50vh",children:e(b,{tree:x})}),size:"small",sx:{visibility:"hidden",height:"20px"},startIcon:e(A,{className:"visible-on-hover",sx:{fontSize:`${C}px`,visibility:j?"visible":"hidden",cursor:"default"}}),disableHint:!1,disabled:!1,handleClose:E,handleOpen:F,tooltipMaxWidth:350})})]});return e(o,{alignSelf:"end",paddingBottom:"10px",children:v?y:e(P,{checkOverflow:H,title:e(o,{overflow:"scroll",maxHeight:"50vh",children:e(b,{tree:x})}),PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:350}}},children:y})})});try{f.displayName="CustomMetadataCell",f.__docgenInfo={description:"",displayName:"CustomMetadataCell",props:{metaData:{defaultValue:null,description:"",name:"metaData",required:!0,type:{name:"{ [key: string]: JSONValue; }"}},textFilter:{defaultValue:null,description:"",name:"textFilter",required:!1,type:{name:"string"}}}}}catch{}const D={"x-custom1":"X-Custom1 value","x-custom2":["green",12,null,"undefined"],"x-custom3":[{prop:1},{prop:"undefined"},"text text"],"x-custom4":null,"x-custom5":"undefined","x-custom6":{aaa3:!1},"x-custom7":{one1:{two1:{three1:"text1"},two2:{three1:"text1",three2:{four1:{five1:"text1"},four2:123}},two3:"text1"}},"x-custom8":"test"},Nt={title:"Custom Metadata Cell",component:f},p={name:"Default",args:{metaData:D,textFilter:""}},d={name:"With Text Filter",args:{metaData:D,textFilter:"x-custom8: test"}};var O,S,M;p.parameters={...p.parameters,docs:{...(O=p.parameters)==null?void 0:O.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    metaData: metadata,
    textFilter: ''
  }
}`,...(M=(S=p.parameters)==null?void 0:S.docs)==null?void 0:M.source}}};var W,_,T;d.parameters={...d.parameters,docs:{...(W=d.parameters)==null?void 0:W.docs,source:{originalSource:`{
  name: 'With Text Filter',
  args: {
    metaData: metadata,
    textFilter: 'x-custom8: test'
  }
}`,...(T=(_=d.parameters)==null?void 0:_.docs)==null?void 0:T.source}}};const jt=["DefaultStory","WithTextFilterStory"];export{p as DefaultStory,d as WithTextFilterStory,jt as __namedExportsOrder,Nt as default};
//# sourceMappingURL=CustomMetadataCell.stories-dbee2223.js.map
