import{j as v}from"./createTheme-d4c6d141.js";import{e as p,R as h,U as E}from"./toggleHighContrast-8b558197.js";import{r as s}from"./index-37ba2b57.js";import{u as y}from"./useDebounce-c4a5dbf1.js";import{u as d}from"./useEffectOnce-12abbac4.js";import{f}from"./graphql-samples-7727da68.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import"./iframe-d7182dd4.js";import"../sb-preview/runtime.js";import"./_commonjsHelpers-de833af9.js";import"./files-188f7ed7.js";import"./apihub-builder.es-04cfcabc.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";import"./dialogTitleClasses-c8d9dbc5.js";import"./clsx.m-6cf3b989.js";import"./ClassNameGenerator-bd600f10.js";import"./useThemeProps-90078124.js";import"./useTheme-0ad13214.js";import"./Modal-9f2c2b11.js";import"./utils-0c060528.js";import"./inheritsLoose-5494d9cc.js";import"./index-4da2af8c.js";import"./TransitionGroupContext-f40e0036.js";import"./useEnhancedEffect-9d60ea74.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-fc00eb8c.js";import"./isHostComponent-73d6e646.js";import"./Paper-dca8f967.js";import"./useId-f6e37502.js";import"./DialogTitle-cd1b99ce.js";import"./Typography-d1555f73.js";import"./extendSxProp-acc1143e.js";import"./DialogContent-fd001b96.js";import"./DialogContentText-f02e7458.js";import"./Button-7fbb2719.js";import"./ButtonBase-1b5192e9.js";import"./emotion-react.browser.esm-f969ea94.js";import"./assertThisInitialized-081f9914.js";import"./createSvgIcon-473ccb66.js";function M(r,e=[]){s.useEffect(()=>{if(e.length===0)return;const n=r.current;if(!n)return;const o=n.getModel();o&&p.setModelMarkers(o,"owner",e)},[r,e])}function S(r,e,n){const[o,i]=s.useState("");y(()=>n==null?void 0:n(o),500,[o]),s.useEffect(()=>{const t=q(r),a=t==null?void 0:t.onFindReplaceStateChange(({searchString:u})=>{u&&i(t._searchString)});return a==null?void 0:a.dispose},[r]),d(()=>{var u,c,l;const t=r.current;if(!e||!t)return;i(e);const a=(c=(u=t.getModel())==null?void 0:u.findMatches(e,!1,!1,!1,null,!0)[0])==null?void 0:c.range;a&&t.setSelection(a),(l=t.getAction("actions.find"))==null||l.run().then()})}function q(r){var e,n;return(n=(e=r.current)==null?void 0:e.getContribution("editor.contrib.findController"))==null?void 0:n.getState()}function g(r,e){r.revealLineNearTop(e,p.ScrollType.Smooth),r.setPosition({lineNumber:e,column:0}),r.focus()}function V(r,e){s.useEffect(()=>{var i;const n=r.current;if(!n)return;const o=(i=n.getModel())==null?void 0:i.getValue();if(e&&o){const t=f(o,e),a=(t==null?void 0:t.range.start.line)??0;g(n,a+1)}},[r,e])}function _(r,e){const[n,o]=s.useState(void 0);s.useEffect(()=>{const i=r==null?void 0:r.current;if(!i||!e)return;n||o(i.createDecorationsCollection());const t=f(i.getValue(),e);if(t){const a=t==null?void 0:t.range.start.line,u=t==null?void 0:t.range.end.line,c=[{range:new h(a+1,0,u+1,0),options:{isWholeLine:!1,marginClassName:"MonacoSelectedDecorator"}}];n==null||n.set(c),g(i,a+1)}return()=>{n==null||n.clear()}},[n,r,e])}function b(r,e,n,o){d(()=>{const i=p.createModel(n,o);return p.defineTheme("custom",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#FFFFFF"}}),e.current=p.create(r.current,{minimap:{enabled:!0},hover:{above:!1},automaticLayout:!0,readOnly:!0,renderValidationDecorations:"on",wordWrap:"on",tabSize:2,model:i,glyphMargin:!0,theme:"custom"}),()=>{var t,a,u;(a=(t=e.current)==null?void 0:t.getModel())==null||a.dispose(),(u=e.current)==null||u.dispose()}})}function k(r,e,n,o){const i=`${n}/*.${o}`;s.useEffect(()=>{const t=r.current;if(t)return t.setModel(p.createModel(e,o,E.parse(i))),()=>{var a;(a=t.getModel())==null||a.dispose()}},[r,e,o,i])}function F(r){const{value:e,type:n,language:o,selectedUri:i,searchPhrase:t,onSearchPhraseChange:a,markers:u}=r,c=s.useRef(null),l=s.useRef();return b(c,l,e,o),k(l,e,n,o),_(l,i),V(l,i),S(l,t,a),M(l,u),c}const m=s.memo(({value:r,type:e,language:n,selectedUri:o,searchPhrase:i,onSearchPhraseChange:t,markers:a})=>{const u=F({value:r,type:e,language:n,selectedUri:o,searchPhrase:i,onSearchPhraseChange:t,markers:a});return v("div",{ref:u,style:{height:"100%"}})});try{m.displayName="MonacoEditorElement",m.__docgenInfo={description:"",displayName:"MonacoEditorElement",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"graphql"'},{value:'"openapi-3-1"'},{value:'"openapi-3-0"'},{value:'"openapi-2-0"'},{value:'"openapi"'},{value:'"asyncapi-2"'},{value:'"json-schema"'},{value:'"markdown"'},{value:'"unknown"'},{value:'"graphql-schema"'},{value:'"graphapi"'},{value:'"introspection"'},{value:'"protobuf-3"'}]}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"graphql"'},{value:'"markdown"'},{value:'"yaml"'},{value:'"json"'},{value:'"proto"'}]}},selectedUri:{defaultValue:null,description:"",name:"selectedUri",required:!1,type:{name:"`/${string}`"}},searchPhrase:{defaultValue:null,description:"",name:"searchPhrase",required:!1,type:{name:"string"}},onSearchPhraseChange:{defaultValue:null,description:"",name:"onSearchPhraseChange",required:!1,type:{name:"((value: string) => void)"}},markers:{defaultValue:null,description:"",name:"markers",required:!1,type:{name:"IMarkerData[]"}}}}}catch{}export{m as default};
//# sourceMappingURL=MonacoEditorElement-762016b9.js.map
