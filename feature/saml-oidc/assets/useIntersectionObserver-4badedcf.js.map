{"version":3,"file":"useIntersectionObserver-4badedcf.js","sources":["../../packages/shared/src/hooks/common/useIntersectionObserver.ts"],"sourcesContent":["/**\n * Copyright 2024-2025 NetCracker Technology Corporation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { RefObject } from 'react'\nimport { useCallback, useEffect } from 'react'\n\nexport function useIntersectionObserver(\n  ref: RefObject<HTMLDivElement>,\n  isNextPageFetching?: boolean,\n  hasNextPage?: boolean,\n  fetchNextPage?: () => void,\n): void {\n\n  const onIntersection = useCallback((entries: IntersectionObserverEntry[]) => {\n    const [firstEntry] = entries\n    if (firstEntry.isIntersecting && hasNextPage && !isNextPageFetching) {\n      fetchNextPage?.()\n    }\n  }, [hasNextPage, isNextPageFetching, fetchNextPage])\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(onIntersection)\n    if (observer && ref.current) {\n      observer.observe(ref.current)\n    }\n    return () => {\n      if (observer) {\n        observer.disconnect()\n      }\n    }\n  }, [onIntersection, ref])\n}\n"],"names":["useIntersectionObserver","ref","isNextPageFetching","hasNextPage","fetchNextPage","onIntersection","useCallback","entries","firstEntry","useEffect","observer"],"mappings":"wCAmBO,SAASA,EACdC,EACAC,EACAC,EACAC,EACM,CAEA,MAAAC,EAAiBC,cAAaC,GAAyC,CACrE,KAAA,CAACC,CAAU,EAAID,EACjBC,EAAW,gBAAkBL,GAAe,CAACD,IAC/BE,GAAA,MAAAA,IAEjB,EAAA,CAACD,EAAaD,EAAoBE,CAAa,CAAC,EAEnDK,EAAAA,UAAU,IAAM,CACR,MAAAC,EAAW,IAAI,qBAAqBL,CAAc,EACpD,OAAAK,GAAYT,EAAI,SACTS,EAAA,QAAQT,EAAI,OAAO,EAEvB,IAAM,CACPS,GACFA,EAAS,WAAW,CACtB,CACF,EACC,CAACL,EAAgBJ,CAAG,CAAC,CAC1B"}