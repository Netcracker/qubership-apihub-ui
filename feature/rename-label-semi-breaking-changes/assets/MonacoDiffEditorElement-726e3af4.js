import{j as h}from"./createTheme-0ee58ceb.js";import{e as s}from"./toggleHighContrast-1554fc1c.js";import{r as p}from"./index-37ba2b57.js";import{f as E,L as M}from"./graphql-samples-f1747b06.js";import{u as _}from"./useEffectOnce-12abbac4.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-dd1a14a8.js";import"./iframe-d0ba2ca4.js";import"../sb-preview/runtime.js";import"./_commonjsHelpers-de833af9.js";import"./files-cf01e921.js";import"./apihub-builder.es-d609de32.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";function q(e){const{before:a,after:c,type:m,language:n=M,selectedUri:i}=e,f=p.useRef(null),t=p.useRef();return _(()=>(s.defineTheme("custom",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#FFFFFF"}}),t.current=s.createDiffEditor(f.current,{minimap:{enabled:!0},hover:{above:!1},automaticLayout:!0,readOnly:!0,wordWrap:"on",glyphMargin:!0,theme:"custom"}),()=>{var r;(r=t.current)==null||r.dispose()})),p.useEffect(()=>{var r;return(r=t.current)==null||r.setModel({original:s.createModel(a,n),modified:s.createModel(c,n)}),()=>{var u,l,o,d,g,v;(o=(l=(u=t.current)==null?void 0:u.getModel())==null?void 0:l.original)==null||o.dispose(),(v=(g=(d=t.current)==null?void 0:d.getModel())==null?void 0:g.modified)==null||v.dispose()}},[t,a,c,n,m]),p.useEffect(()=>{var u,l;const r=(l=(u=t.current)==null?void 0:u.getModel())==null?void 0:l.modified.getValue();if(i&&r){const o=E(r,i);if(o){const d=o==null?void 0:o.range.start.line;b(t.current,d+1)}}},[i]),f}function b(e,a){e.revealLineNearTop(a,s.ScrollType.Smooth),e.setPosition({lineNumber:a,column:0}),e.focus()}const y=p.memo(({before:e,after:a,type:c,language:m,selectedUri:n})=>{const i=q({before:e,after:a,type:c,language:m,selectedUri:n});return h("div",{ref:i,style:{height:"100%"}})});try{y.displayName="MonacoDiffEditorElement",y.__docgenInfo={description:"",displayName:"MonacoDiffEditorElement",props:{before:{defaultValue:null,description:"",name:"before",required:!0,type:{name:"string"}},after:{defaultValue:null,description:"",name:"after",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"graphql"'},{value:'"openapi-3-1"'},{value:'"openapi-3-0"'},{value:'"openapi-2-0"'},{value:'"openapi"'},{value:'"asyncapi-2"'},{value:'"json-schema"'},{value:'"markdown"'},{value:'"unknown"'},{value:'"graphql-schema"'},{value:'"graphapi"'},{value:'"introspection"'},{value:'"protobuf-3"'}]}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"graphql"'},{value:'"markdown"'},{value:'"yaml"'},{value:'"json"'},{value:'"proto"'}]}},selectedUri:{defaultValue:null,description:"",name:"selectedUri",required:!1,type:{name:"string"}}}}}catch{}export{y as default};
//# sourceMappingURL=MonacoDiffEditorElement-726e3af4.js.map
