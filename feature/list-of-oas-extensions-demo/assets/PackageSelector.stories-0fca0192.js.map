{"version":3,"file":"PackageSelector.stories-0fca0192.js","sources":["../../packages/shared/src/components/PackageSelector.tsx"],"sourcesContent":["/**\n * Copyright 2024-2025 NetCracker Technology Corporation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { FC, SyntheticEvent } from 'react'\nimport * as React from 'react'\nimport { memo, useCallback } from 'react'\nimport { Autocomplete, Box, debounce, InputLabel, TextField } from '@mui/material'\nimport type { AutocompleteValue } from '@mui/base'\nimport type { TestableProps } from './Testable'\nimport { OptionItem } from './OptionItem'\nimport { DEFAULT_DEBOUNCE } from '../utils/constants'\nimport type { Package, Packages } from '../entities/packages'\nimport type { AutocompleteInputChangeReason } from '@mui/base/AutocompleteUnstyled/useAutocomplete'\n\nexport type PackageSelectorProps = Readonly<{\n  key: string\n  title?: string\n  placeholder: string\n  value: Package | null\n  options: Packages\n  onInput: (text: string | undefined) => void\n  onSelect: (value: Package | null) => void\n  loading?: boolean\n  disabled?: boolean\n}> & TestableProps\n\n// First Order Component //\nexport const PackageSelector: FC<PackageSelectorProps> = memo<PackageSelectorProps>(({\n  title,\n  placeholder,\n  value,\n  options,\n  onInput,\n  onSelect,\n  loading = false,\n  disabled = false,\n  testId,\n}) => {\n  const onInputChange = useCallback((_: SyntheticEvent, value: string, reason: AutocompleteInputChangeReason) =>\n      onInput(reason === 'input' ? value : ''),\n    [onInput])\n\n  const onChange = useCallback(\n    (_: SyntheticEvent, value: AutocompleteValue<Package, false, false, false>) => onSelect(value ?? null),\n    [onSelect],\n  )\n\n  return (\n    <Box width={240}>\n      {title && <InputLabel sx={{ mb: 1 }}>{title}</InputLabel>}\n      <Autocomplete<Package>\n        loading={loading}\n        forcePopupIcon={true}\n        value={value}\n        disabled={disabled}\n        options={options}\n        renderOption={(props, dashboard) => (\n          <OptionItem\n            key={dashboard.key}\n            props={props}\n            title={dashboard.name}\n            subtitle={dashboard.key}\n          />\n        )}\n        isOptionEqualToValue={(option, value) => option.key === value.key}\n        getOptionLabel={(option) => option?.name ?? ''}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            placeholder={placeholder}\n            sx={{ m: 0, '& .MuiInputBase-root': { pt: '1px', pb: '1px' } }}\n          />\n        )}\n        onInputChange={debounce(onInputChange, DEFAULT_DEBOUNCE)}\n        onChange={onChange}\n        data-testid={testId}\n      />\n    </Box>\n  )\n})\n"],"names":["PackageSelector","memo","title","placeholder","value","options","onInput","onSelect","loading","disabled","testId","onInputChange","useCallback","_","value2","reason","onChange","jsxs","Box","jsx","InputLabel","Autocomplete","props","dashboard","OptionItem","option","params","TextField","debounce","DEFAULT_DEBOUNCE"],"mappings":"i7DAwCO,MAAAA,EAAAC,EAAA,KAAA,CAAA,CAA8E,MAAAC,EACnF,YAAAC,EACA,MAAAC,EACA,QAAAC,EACA,QAAAC,EACA,SAAAC,EACA,QAAAC,EAAA,GACU,SAAAC,EAAA,GACC,OAAAC,CAEb,IAAA,CACE,MAAAC,EAAAC,EAAA,YAAsB,CAAAC,EAAAC,EAAAC,IAAAT,EAAAS,IAAA,QAAAD,EAAA,EAAA,EACqB,CAAAR,CAAA,CACjC,EAEVU,EAAAJ,EAAA,YAAiB,CAAAC,EAAAC,IAAAP,EAAAO,GAAA,IAAA,EACsF,CAAAP,CAAA,CAC5F,EAGX,OAAAU,EAAAC,EAAA,CAAA,MAAA,IAAA,SAAA,CAEKhB,GAAAiB,EAAAC,EAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAAlB,EAAA,EAA2CiB,EAC5CE,EAAC,CAAA,QAAAb,EACC,eAAA,GACgB,MAAAJ,EAChB,SAAAK,EACA,QAAAJ,EACA,aAAA,CAAAiB,EAAAC,IAAAJ,EAEEK,EAAC,CAAA,MAAAF,EAEC,MAAAC,EAAA,KACiB,SAAAA,EAAA,GACG,EAAAA,EAAA,GAHL,EAIjB,qBAAA,CAAAE,EAAAX,IAAAW,EAAA,MAAAX,EAAA,IAE4D,eAAAW,IAAAA,GAAA,YAAAA,EAAA,OAAA,GAClB,YAAAC,GAAAP,EAE1CQ,EAAC,CAAA,GAAAD,EACK,YAAAvB,EACJ,GAAA,CAAA,EAAA,EAAA,uBAAA,CAAA,GAAA,MAAA,GAAA,MAAA,CAC6D,CAAA,EAC/D,cAAAyB,EAAAjB,EAAAkB,CAAA,EAEqD,SAAAb,EACvD,cAAAN,CACa,CAAA,CACf,CAAA,CAAA,CAGN,CAAA;;;;;;;;"}