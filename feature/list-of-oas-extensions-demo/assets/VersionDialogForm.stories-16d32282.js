import{j as e,e as Me,p as Ce,o as Fe,_ as rr,a as u,F as O}from"./createTheme-0ee58ceb.js";import{r as l}from"./index-37ba2b57.js";import{a as B,C as h,u as tr}from"./index.esm-cb87e173.js";import{V as or,a as ar,N as R,R as Ne,D as nr}from"./version-status-eed3d50b.js";import{r as ir,i as sr,a as lr}from"./jsx-runtime_commonjs-proxy-be29ac44.js";import{D as dr}from"./DialogForm-49605307.js";import{C as ke}from"./CustomChip-9d873f5b.js";import{c as _e,a as ur,b as pr,d as cr}from"./validations-0e4e5135.js";import{E as mr}from"./EditIcon-202069e3.js";import{F as fr,C as Be}from"./FileIcon-463172bc.js";import{g as ne,h as gr}from"./versions-0bafc2da.js";import{T as v}from"./Typography-089f60e4.js";import{L as hr}from"./LabelsAutocomplete-29485f54.js";import{O as ie}from"./OptionItem-4458381f.js";import{d as vr}from"./mui-fb0164d9.js";import{a as se}from"./constants-963f5fd0.js";import{I as Se}from"./InfoIcon-3d492867.js";import{t as Pe,c as yr,C as Ie}from"./files-cf01e921.js";import{F as br}from"./FileUpload-add2c09d.js";import{U as Vr}from"./UploadButton-7224ea87.js";import{D as Cr}from"./DeleteIcon-f7494c90.js";import{B as m}from"./Box-b4966c9a.js";import{I as $e}from"./IconButton-4002dfdc.js";import{d as Fr}from"./ErrorOutlined-1a5ad710.js";import{_ as T}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-dd1a14a8.js";import{c as kr}from"./clsx.m-bc31e435.js";import{g as _r,a as Sr,s as U,c as Pr}from"./styled-63e5ab44.js";import{u as Ir}from"./useThemeProps-af595d22.js";import{c as W}from"./createSvgIcon-59613792.js";import{C as xr,A}from"./Autocomplete-fc813c36.js";import{P as Ar}from"./Paper-c3e6ed30.js";import{d as le}from"./debounce-517eeb3c.js";import{D as Tr,a as Er}from"./DialogTitle-ca06726e.js";import{D as qr}from"./DialogContent-c739c09b.js";import{T as V}from"./TextField-892e620e.js";import{D as xe}from"./Divider-76400858.js";import{T as Ae}from"./Tooltip-592f923c.js";import{L as de}from"./ListItem-f97e26fe.js";import{L as Dr}from"./LoadingButton-8f6878a9.js";import{B as Or}from"./Button-261ba857.js";import"./_commonjsHelpers-de833af9.js";import"./package-permissions-f2118557.js";import"./createChainedFunction-0bab83cf.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./TransitionGroupContext-373e5cc0.js";import"./isMuiElement-58afa5f8.js";import"./useId-f6e37502.js";import"./useControlled-1dfdd739.js";import"./dialogTitleClasses-7aa81220.js";import"./useTheme-6dc18478.js";import"./Modal-8a00b656.js";import"./utils-8f64eed4.js";import"./inheritsLoose-c82a83d4.js";import"./index-4da2af8c.js";import"./Portal-880ae769.js";import"./palette-32a6db07.js";import"./Chip-7a90fc08.js";import"./ButtonBase-11c344bc.js";import"./emotion-react.browser.esm-e1f4c3b5.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./assertThisInitialized-081f9914.js";import"./extendSxProp-083dfeeb.js";import"./OverflowTooltip-450f7d49.js";import"./apihub-builder.es-d609de32.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";import"./Popper-73e09355.js";import"./usePreviousProps-c4e5492e.js";import"./index-891d46e9.js";import"./Menu-ad22bfb8.js";import"./Grow-b04d1a4c.js";import"./ListContext-aeaca2aa.js";import"./GlobalStyles-9edec0e5.js";import"./dividerClasses-ff01777d.js";import"./listItemButtonClasses-ec8f8e5b.js";import"./CircularProgress-d188cfe7.js";function Rr(t){return Sr("MuiAlert",t)}const wr=_r("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Te=wr,Lr=W(e("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Mr=W(e("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Nr=W(e("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Br=W(e("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),$r=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],zr=t=>{const{variant:i,color:s,severity:p,classes:a}=t,d={root:["root",`${i}${Me(s||p)}`,`${i}`],icon:["icon"],message:["message"],action:["action"]};return Pr(d,Rr,a)},Ur=U(Ar,{name:"MuiAlert",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:s}=t;return[i.root,i[s.variant],i[`${s.variant}${Me(s.color||s.severity)}`]]}})(({theme:t,ownerState:i})=>{const s=t.palette.mode==="light"?Ce:Fe,p=t.palette.mode==="light"?Fe:Ce,a=i.color||i.severity;return T({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&i.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${a}Color`]:s(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${a}StandardBg`]:p(t.palette[a].light,.9),[`& .${Te.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette[a].main}},a&&i.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${a}Color`]:s(t.palette[a].light,.6),border:`1px solid ${(t.vars||t).palette[a].light}`,[`& .${Te.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette[a].main}},a&&i.variant==="filled"&&T({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${a}FilledColor`],backgroundColor:t.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}))}),Wr=U("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,i)=>i.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Hr=U("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,i)=>i.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ee=U("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,i)=>i.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),qe={success:e(Lr,{fontSize:"inherit"}),warning:e(Mr,{fontSize:"inherit"}),error:e(Nr,{fontSize:"inherit"}),info:e(Br,{fontSize:"inherit"})},jr=l.forwardRef(function(i,s){var p,a,d,I,f,k;const b=Ir({props:i,name:"MuiAlert"}),{action:c,children:E,className:x,closeText:w="Close",color:H,components:_={},componentsProps:S={},icon:L,iconMapping:j=qe,onClose:M,role:K="alert",severity:C="success",slotProps:N={},slots:q={},variant:G="standard"}=b,Y=rr(b,$r),y=T({},b,{color:H,severity:C,variant:G}),P=zr(y),D=(p=(a=q.closeButton)!=null?a:_.CloseButton)!=null?p:$e,Z=(d=(I=q.closeIcon)!=null?I:_.CloseIcon)!=null?d:xr,X=(f=N.closeButton)!=null?f:S.closeButton,J=(k=N.closeIcon)!=null?k:S.closeIcon;return u(Ur,T({role:K,elevation:0,ownerState:y,className:kr(P.root,x),ref:s},Y,{children:[L!==!1?e(Wr,{ownerState:y,className:P.icon,children:L||j[C]||qe[C]}):null,e(Hr,{ownerState:y,className:P.message,children:E}),c!=null?e(Ee,{ownerState:y,className:P.action,children:c}):null,c==null&&M?e(Ee,{ownerState:y,className:P.action,children:e(D,T({size:"small","aria-label":w,title:w,color:"inherit",onClick:M},X,{children:e(Z,T({fontSize:"small"},J))}))}):null]}))}),Kr=jr;var me={},Gr=sr;Object.defineProperty(me,"__esModule",{value:!0});var ze=me.default=void 0,Yr=Gr(ir()),Zr=lr,Xr=(0,Yr.default)((0,Zr.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"ErrorRounded");ze=me.default=Xr;const ue=({children:t})=>e(v,{"data-testid":"ErrorTypography",variant:"body2",color:"#FF5260",children:t});try{ue.displayName="ErrorTypography",ue.__docgenInfo={description:"",displayName:"ErrorTypography",props:{}}}catch{}const pe=l.memo(({file:t,onDelete:i,onDownload:s,testId:p})=>{const a=s?Jr:"black";return u(m,{display:"flex",alignItems:"center","data-testid":p,children:[u(m,{onClick:s,sx:{display:"flex",gap:.5,cursor:s?"pointer":"default"},children:[e(fr,{color:a}),e(v,{variant:"subtitle2",fontSize:13,color:a,children:t.name})]}),e($e,{onClick:i,sx:{ml:"auto"},"data-testid":"DeleteButton",children:e(Cr,{color:"#353C4E"})})]})}),Jr="#005DCF";try{pe.displayName="UploadedFilePreview",pe.__docgenInfo={description:"",displayName:"UploadedFilePreview",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"File"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => void"}},onDownload:{defaultValue:null,description:"",name:"onDownload",required:!1,type:{name:"(() => void)"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}},testId:{defaultValue:null,description:"",name:"testId",required:!1,type:{name:"string"}}}}}catch{}const ce=l.memo(({uploadedFile:t,setUploadedFile:i,onDownload:s,downloadAvailable:p,acceptableExtensions:a,errorMessage:d})=>{const I=l.useCallback(({target:{files:c}})=>i(c?Pe(c)[0]:void 0),[i]),f=l.useCallback(({dataTransfer:{files:c}})=>i(Pe(c)[0]),[i]),k=l.useCallback(()=>i(void 0),[i]),b=l.useMemo(()=>d&&e(Kr,{icon:e(Fr,{color:"error"}),severity:"error",sx:{p:0,py:"1px",pl:2,alignItems:"center"},children:d}),[d]);return t?u(O,{children:[e(pe,{file:t,onDelete:k,onDownload:p?s:void 0,testId:p?"DownloadableFilePreview":"NotDownloadableFilePreview"}),b]}):u(m,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e(br,{onDrop:f,acceptableFileTypes:a,children:u(m,{sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgb(242, 243, 245)",boxSizing:"border-box",borderRadius:"10px",width:1,height:"44px"},children:[e(Be,{sx:{color:"#626D82",mr:"8px"}}),e(v,{variant:"subtitle2",fontSize:13,children:`Drop ${yr(a)} file here to attach or`}),e(Vr,{title:"browse",onUpload:I,buttonSxProp:{p:0,ml:.5,minWidth:"auto",height:1,display:"flex"},"data-testid":"BrowseButton",acceptableFileTypes:a})]})}),b]})});try{ce.displayName="FileUploadField",ce.__docgenInfo={description:"",displayName:"FileUploadField",props:{uploadedFile:{defaultValue:null,description:"",name:"uploadedFile",required:!0,type:{name:"File | undefined"}},setUploadedFile:{defaultValue:null,description:"",name:"setUploadedFile",required:!0,type:{name:"(file: File | undefined) => void"}},onDownload:{defaultValue:null,description:"",name:"onDownload",required:!1,type:{name:"(() => void)"}},downloadAvailable:{defaultValue:null,description:"",name:"downloadAvailable",required:!0,type:{name:"boolean"}},acceptableExtensions:{defaultValue:null,description:"",name:"acceptableExtensions",required:!0,type:{name:"FileExtension[]"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}}}catch{}const z=l.memo(t=>{var be,Ve;const{open:i,setOpen:s,onSubmit:p,control:a,setValue:d,formState:I,selectedWorkspace:f,workspaces:k,areWorkspacesLoading:b,onSetWorkspace:c,onSetTargetPackage:E,onWorkspacesFilter:x,arePackagesLoading:w,areVersionsLoading:H,onVersionsFilter:_,onPackagesFilter:S,packages:L,packagesTitle:j,versions:M,previousVersions:K,getVersionLabels:C,packagePermissions:N,releaseVersionPattern:q,isPublishing:G,extraValidationMassage:Y,setSelectedPreviousVersion:y,title:P,submitButtonTittle:D,descriptorVersionFieldTitle:Z,descriptorFileFieldTitle:X,hideCSVRelatedFields:J=!0,hideDescriptorField:Q,hideDescriptorVersionField:ee,hideSaveMessageField:re,hidePreviousVersionField:Ue,hideCopyPackageFields:We,publishButtonDisabled:He}=t,{errors:F}=I,je=B({control:a,name:"workspace"}),te=B({control:a,name:"status"}),Ke=B({control:a,name:"previousVersion"}),oe=B({control:a,name:"descriptorFile"}),Ge=te===Ne,fe=l.useCallback((n,r)=>x==null?void 0:x(r),[x]),ge=l.useCallback((n,r)=>S==null?void 0:S(r),[S]),he=l.useCallback((n,r)=>_==null?void 0:_(r),[_]),ve=l.useMemo(()=>le(fe,se),[fe]),Ye=l.useMemo(()=>le(ge,se),[ge]),Ze=l.useMemo(()=>le(he,se),[he]),[Xe,Je]=l.useState(null),[Qe,ye]=l.useState(!1),ae=l.useCallback(n=>{var r;Je((r=n==null?void 0:n.target)!=null&&r.result?String(n.target.result):null),ye(!1)},[]);l.useEffect(()=>{f!=null&&f.key&&d("workspace",f)},[f,f==null?void 0:f.key,d]),l.useEffect(()=>{if(!oe)return;const n=new FileReader;n.onload=ae,n.onerror=ae,ye(!0),n.readAsText(oe)},[oe,ae]);const er=l.useMemo(()=>!re||!ee||!Q,[Q,ee,re]);return u(dr,{open:i,onClose:()=>s(!1),onSubmit:p,children:[e(Tr,{"data-testid":"DialogTitle",children:P??"Publish"}),u(qr,{sx:{width:440},children:[!re&&u(O,{children:[e(v,{variant:"button",children:"Save"}),e(h,{name:"message",control:a,render:({field:n})=>e(V,{...n,multiline:!0,required:!0,autoComplete:"on",rows:"4",type:"text",label:"Message","data-testid":"MessageTextField"})}),e(v,{variant:"button",children:"Publish"})]}),!ee&&e(h,{name:"descriptorVersion",control:a,rules:{validate:{restrictedSymbols:n=>_e(n??"")}},render:({field:n})=>e(V,{...n,value:n.value??"",required:!0,label:Z??"Descriptor Version",error:!!F.descriptorVersion,onChange:r=>d("descriptorVersion",r.target.value??""),"data-testid":"DescriptorVersionTextField"})}),!Q&&e(h,{name:"descriptorFile",control:a,rules:{validate:{correctUpload:()=>et(Xe)}},render:({field:n})=>{var r,o;return u(m,{component:"label",htmlFor:"contained-button-file",children:[e(m,{component:"input",id:"contained-button-file",display:"none",multiple:!0,type:"file",onChange:({target:{files:g}})=>{d("descriptorFile",(g==null?void 0:g[0])??null)}}),e(V,{...n,sx:{label:{height:"100%",width:"100%"}},value:((r=n.value)==null?void 0:r.name)??"",label:X??"Descriptor File",error:!!F.descriptorFile,helperText:(o=F.descriptorFile)==null?void 0:o.message,required:!0,InputProps:{endAdornment:u(m,{display:"flex",flexDirection:"row",sx:{cursor:"pointer"},children:[n.value?e(mr,{}):e(Be,{fontSize:"small",sx:{color:"#353C4E"}}),!!F.descriptorFile&&e(ze,{color:"error"})]}),inputProps:{readOnly:!0}},"data-testid":"DescriptorFileTextField"})]})}}),er&&e(xe,{sx:{mx:0,mt:1,mb:.5},orientation:"horizontal"}),!J&&u(O,{children:[u(m,{display:"flex",gap:.5,alignItems:"center",pb:1,children:[u(m,{sx:{lineHeight:1},children:[e(v,{variant:"button",component:"span",children:"Dashboard Version Config"}),e(v,{variant:"button",component:"span",color:"#FF5260",children:"*"})]}),e(Ae,{disableHoverListener:!1,placement:"right",title:rt,PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:"600px"}}},children:e(m,{sx:{cursor:"pointer"},children:e(Se,{})})})]}),e(h,{name:"file",rules:{required:"Please upload a file",validate:{checkFileType:n=>ur(n,[Ie])}},control:a,render:({field:{value:n,onChange:r}})=>{var o;return e(ce,{errorMessage:(o=F.file)==null?void 0:o.message,uploadedFile:n,setUploadedFile:g=>r(g),downloadAvailable:!1,acceptableExtensions:[Ie]})}}),u(m,{display:"flex",gap:.5,alignItems:"center",pt:2,children:[e(v,{variant:"button",children:"Package Search Scope for Dashboard Version"}),e(Ae,{disableHoverListener:!1,placement:"right",title:tt,PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:"600px"}}},children:e(m,{sx:{cursor:"pointer"},children:e(Se,{})})})]}),e(h,{name:"workspace",control:a,render:({field:{value:n}})=>e(A,{value:n,options:k??[],loading:b,isOptionEqualToValue:(r,o)=>r.key===o.key,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:g})=>e(ie,{props:r,title:g,subtitle:o},o),onChange:(r,o)=>{d("workspace",o??null),d("package",null),c==null||c(o)},onInputChange:ve,renderInput:r=>e(V,{required:!0,...r,label:"Workspace"}),"data-testid":"WorkspaceAutocomplete"})}),e(m,{sx:{lineHeight:1},pt:2,children:e(v,{variant:"button",children:"Publish Info"})})]}),!We&&u(O,{children:[e(v,{sx:{mb:1},variant:"body2",children:"Target Package"}),e(h,{name:"workspace",control:a,render:({field:{value:n}})=>e(A,{value:n,options:k??[],loading:b,isOptionEqualToValue:(r,o)=>r.key===o.key,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:g})=>e(ie,{props:r,title:g,subtitle:o},o),onChange:(r,o)=>{d("workspace",o??null),d("package",null),c==null||c(o)},onInputChange:ve,renderInput:r=>e(V,{required:!0,...r,label:"Workspace"}),"data-testid":"WorkspaceAutocomplete"})}),e(h,{name:"package",control:a,render:({field:{value:n}})=>e(A,{value:n,disabled:!je,isOptionEqualToValue:(r,o)=>r===o,options:L??[],loading:w,filterOptions:vr,getOptionLabel:({name:r})=>r,renderOption:(r,{key:o,name:g})=>e(ie,{props:r,title:g,subtitle:o},o),onInputChange:Ye,renderInput:r=>e(V,{...r,required:!0,label:j}),onChange:(r,o)=>{d("package",o),E==null||E(o)},"data-testid":"PackageAutocomplete"})}),e(v,{sx:{mb:1,mt:2},variant:"body2",children:"Target Version Info"})]}),e(h,{name:"version",control:a,rules:{validate:{checkSpaces:n=>!Ge||!q?!0:pr(n,q),restrictedSymbols:_e,notEqualToPrevious:n=>cr(n,ne(Ke).versionKey)}},render:({field:n})=>e(A,{freeSolo:!0,disabled:!n||!C,value:n.value??"",options:M??[],loading:H,renderOption:(r,o)=>l.createElement(de,{...r,key:o},o),onInputChange:Ze,renderInput:r=>e(V,{...n,...r,required:!0,label:"Version",error:!!F.version}),onChange:(r,o)=>{d("version",o??""),d("labels",o&&(C==null?void 0:C(o))||[],{shouldTouch:!0})},"data-testid":"VersionAutocomplete"})}),e(h,{name:"status",control:a,render:({field:{value:n}})=>e(A,{value:n??null,options:or,getOptionDisabled:r=>!N.includes(ar[r]),renderOption:(r,o)=>l.createElement(de,{...r,key:o,"data-testid":`Option-${o}`},e(ke,{value:o})),onChange:(r,o)=>{d("status",o)},renderInput:r=>e(V,{...r,label:"Status",required:!0,InputProps:{...r.InputProps,sx:{"& .MuiInputBase-input":{color:"transparent",caretColor:"transparent","::selection":{background:"transparent",color:"transparent"}}},startAdornment:te?e(ke,{sx:{height:16,mb:1},value:te}):null}}),"data-testid":"StatusAutocomplete"})}),e(h,{name:"labels",control:a,render:({field:n})=>e(hr,{onChange:(r,o)=>d("labels",o??[]),value:n.value})}),!Ue&&u(O,{children:[e(xe,{sx:{mx:0,mt:1,mb:.5},orientation:"horizontal"}),e(h,{name:"previousVersion",control:a,render:({field:n})=>e(A,{value:n.value??null,options:K??[],getOptionLabel:r=>ne(r).versionKey,renderOption:(r,o)=>l.createElement(de,{...r,key:o},ne(o).versionKey),renderInput:r=>e(V,{...r,required:!0,label:"Previous release version",helperText:Y}),onChange:(r,o)=>{d("previousVersion",o??R),y==null||y(o??R)},"data-testid":"PreviousReleaseVersionAutocomplete"})})]}),((be=F.version)==null?void 0:be.message)&&e(m,{pt:2,children:e(ue,{children:(Ve=F.version)==null?void 0:Ve.message})})]}),u(Er,{children:[e(Dr,{variant:"contained",type:"submit",loading:G,disabled:Qe||He,"data-testid":D?`${D}Button`:"PublishButton",children:D??"Publish"}),e(Or,{variant:"outlined",onClick:()=>s(!1),"data-testid":"CancelButton",children:"Close"})]})]})});function De(t){return t===R?Qr:t}function Oe(t){const i=gr(t);return l.useMemo(()=>[R,...i.filter(({status:s})=>s===Ne).map(({key:s})=>s)],[i])}const Qr="";function et(t){return!!t}const rt='CSV file must have the following information: "serviceName" and "serviceVersion". Published dashboard version will include package release versions (from selected workspace) for specified services. Additionally, "method" and "path" of REST API operations for services can be defined in the file. In this case, the system will create operations group with the operations for specified method and path.',tt="The workspace in which package versions for services from the CSV configuration will be searched. The package versions found in this workspace will be included into the dashboard version.";try{De.displayName="replaceEmptyPreviousVersion",De.__docgenInfo={description:"",displayName:"replaceEmptyPreviousVersion",props:{}}}catch{}try{Oe.displayName="usePreviousVersionOptions",Oe.__docgenInfo={description:"",displayName:"usePreviousVersionOptions",props:{}}}catch{}try{z.displayName="VersionDialogForm",z.__docgenInfo={description:"",displayName:"VersionDialogForm",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(value: boolean) => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"Control<VersionFormData, any>"}},setValue:{defaultValue:null,description:"",name:"setValue",required:!0,type:{name:"UseFormSetValue<VersionFormData>"}},formState:{defaultValue:null,description:"",name:"formState",required:!0,type:{name:"FormState<VersionFormData>"}},packagePermissions:{defaultValue:null,description:"",name:"packagePermissions",required:!0,type:{name:"PackagePermissions"}},releaseVersionPattern:{defaultValue:null,description:"",name:"releaseVersionPattern",required:!0,type:{name:"string | undefined"}},selectedWorkspace:{defaultValue:null,description:"",name:"selectedWorkspace",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | null | undefined"}},workspaces:{defaultValue:null,description:"",name:"workspaces",required:!1,type:{name:"Packages"}},onWorkspacesFilter:{defaultValue:null,description:"",name:"onWorkspacesFilter",required:!1,type:{name:"((value: string) => void)"}},onVersionsFilter:{defaultValue:null,description:"",name:"onVersionsFilter",required:!1,type:{name:"((value: string) => void)"}},onPackagesFilter:{defaultValue:null,description:"",name:"onPackagesFilter",required:!1,type:{name:"((value: string) => void)"}},onSetWorkspace:{defaultValue:null,description:"",name:"onSetWorkspace",required:!1,type:{name:"((workspace: Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; ... 11 more ...; bwcErrors?: Readonly<...> | undefined; }> | null) => void) | undefined"}},onSetTargetPackage:{defaultValue:null,description:"",name:"onSetTargetPackage",required:!1,type:{name:"((pack: Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; ... 11 more ...; bwcErrors?: Readonly<...> | undefined; }> | null) => void) | undefined"}},areWorkspacesLoading:{defaultValue:null,description:"",name:"areWorkspacesLoading",required:!1,type:{name:"boolean"}},arePackagesLoading:{defaultValue:null,description:"",name:"arePackagesLoading",required:!1,type:{name:"boolean"}},areVersionsLoading:{defaultValue:null,description:"",name:"areVersionsLoading",required:!1,type:{name:"boolean"}},packages:{defaultValue:null,description:"",name:"packages",required:!1,type:{name:"Packages"}},packagesTitle:{defaultValue:null,description:"",name:"packagesTitle",required:!1,type:{name:"string"}},packageObj:{defaultValue:null,description:"",name:"packageObj",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | undefined"}},onSetPackage:{defaultValue:null,description:"",name:"onSetPackage",required:!1,type:{name:"(() => void)"}},versions:{defaultValue:null,description:"",name:"versions",required:!1,type:{name:"string[]"}},previousVersions:{defaultValue:null,description:"",name:"previousVersions",required:!1,type:{name:"string[]"}},getVersionLabels:{defaultValue:null,description:"",name:"getVersionLabels",required:!1,type:{name:"((version: string) => string[])"}},isPublishing:{defaultValue:null,description:"",name:"isPublishing",required:!1,type:{name:"boolean"}},extraValidationMassage:{defaultValue:null,description:"",name:"extraValidationMassage",required:!1,type:{name:"string | null"}},setSelectedPreviousVersion:{defaultValue:null,description:"",name:"setSelectedPreviousVersion",required:!1,type:{name:"((value: string) => void)"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},submitButtonTittle:{defaultValue:null,description:"",name:"submitButtonTittle",required:!1,type:{name:"string"}},descriptorVersionFieldTitle:{defaultValue:null,description:"",name:"descriptorVersionFieldTitle",required:!1,type:{name:"string"}},descriptorFileFieldTitle:{defaultValue:null,description:"",name:"descriptorFileFieldTitle",required:!1,type:{name:"string"}},hideCSVRelatedFields:{defaultValue:null,description:"",name:"hideCSVRelatedFields",required:!1,type:{name:"boolean"}},hideDescriptorField:{defaultValue:null,description:"",name:"hideDescriptorField",required:!1,type:{name:"boolean"}},hideDescriptorVersionField:{defaultValue:null,description:"",name:"hideDescriptorVersionField",required:!1,type:{name:"boolean"}},hideSaveMessageField:{defaultValue:null,description:"",name:"hideSaveMessageField",required:!1,type:{name:"boolean"}},hideCopyPackageFields:{defaultValue:null,description:"",name:"hideCopyPackageFields",required:!1,type:{name:"boolean"}},hidePreviousVersionField:{defaultValue:null,description:"",name:"hidePreviousVersionField",required:!1,type:{name:"boolean"}},publishButtonDisabled:{defaultValue:null,description:"",name:"publishButtonDisabled",required:!1,type:{name:"boolean"}}}}}catch{}const xo={component:z},ot=t=>{const i=l.useMemo(()=>({version:"",status:nr,labels:[],descriptorFile:null,previousVersion:R}),[]),{control:s,setValue:p,formState:a}=tr({defaultValues:i});return e(z,{...t,control:s,setValue:p,formState:a})},$={name:"Default",args:{open:!0,setOpen:()=>null,onSubmit:()=>null,versions:[],previousVersions:[],getVersionLabels:()=>[],packagePermissions:[],isPublishing:!1,hideDescriptorField:!0,hideDescriptorVersionField:!0},render:ot};var Re,we,Le;$.parameters={...$.parameters,docs:{...(Re=$.parameters)==null?void 0:Re.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    open: true,
    setOpen: () => null,
    onSubmit: () => null,
    versions: [],
    previousVersions: [],
    getVersionLabels: () => [],
    packagePermissions: [],
    isPublishing: false,
    hideDescriptorField: true,
    hideDescriptorVersionField: true
  },
  render: StoryComponent
}`,...(Le=(we=$.parameters)==null?void 0:we.docs)==null?void 0:Le.source}}};const Ao=["DefaultStory"];export{$ as DefaultStory,Ao as __namedExportsOrder,xo as default};
//# sourceMappingURL=VersionDialogForm.stories-16d32282.js.map
