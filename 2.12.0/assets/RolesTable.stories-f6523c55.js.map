{"version":3,"file":"RolesTable.stories-f6523c55.js","sources":["../../packages/shared/src/icons/DoneIcon.tsx","../../packages/shared/src/icons/MinusIcon.tsx","../../packages/shared/src/components/RolesTable.tsx"],"sourcesContent":["/**\n * Copyright 2024-2025 NetCracker Technology Corporation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { FC } from 'react'\nimport { memo } from 'react'\n\ntype DoneIconProps = {\n  color?: string\n}\n\nexport const DoneIcon: FC<DoneIconProps> = memo(({ color }) => {\n  return (\n    <div style={{ display: 'flex' }}>\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" data-testid=\"DoneIcon\">\n        <path\n          d=\"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n          fill={color ?? 'black'}\n        />\n      </svg>\n    </div>\n  )\n})\n","/**\n * Copyright 2024-2025 NetCracker Technology Corporation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { FC } from 'react'\nimport { memo } from 'react'\n\nexport const MinusIcon: FC<{ color?: string }> = memo<{ color?: string }>(({ color }) => {\n  return (\n    <div style={{ display: 'flex' }}>\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" data-testid=\"MinusIcon\">\n        <path\n          d=\"M3 10C3 9.58579 3.33579 9.25 3.75 9.25H16.25C16.6642 9.25 17 9.58579 17 10C17 10.4142 16.6642 10.75 16.25 10.75H3.75C3.33579 10.75 3 10.4142 3 10Z\"\n          fill={color ?? 'black'}\n        />\n      </svg>\n    </div>\n  )\n})\n","/**\n * Copyright 2024-2025 NetCracker Technology Corporation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { FC } from 'react'\nimport * as React from 'react'\nimport { memo, useState } from 'react'\nimport {\n  Box,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Tooltip,\n  Typography,\n} from '@mui/material'\nimport type { Permission } from '../types/permissions'\nimport type { Role } from '../types/roles'\nimport { DoneIcon } from '../icons/DoneIcon'\nimport { MinusIcon } from '../icons/MinusIcon'\nimport { EditIcon } from '../icons/EditIcon'\nimport { DISABLED_BUTTON_COLOR, ENABLED_BUTTON_COLOR } from '../entities/operation-groups'\nimport { DeleteIcon } from '../icons/DeleteIcon'\n\nconst HOVERABLE_COLUMN_OFFSET = 2\n\nexport type RolesTableProps = {\n  permissions: ReadonlyArray<Permission>\n  roles: ReadonlyArray<Role>\n  onDelete?: (role: Role) => void\n  onEdit?: (role: Role) => void\n}\n\nexport const RolesTable: FC<RolesTableProps> = memo<RolesTableProps>(({ permissions, roles, onDelete, onEdit }) => {\n  const [colHoverNth, setColHoverNth] = useState('')\n\n  const handleColumnHover = (column: number): void => setColHoverNth(`${column + HOVERABLE_COLUMN_OFFSET}`)\n  const cancelColumnHover = (): void => setColHoverNth('')\n\n  return (\n    <TableContainer\n      sx={{\n        height: 'unset', // overrides global '100%' height to show the horizontal scroll\n        '& .sticky': {\n          position: 'sticky',\n          left: 0,\n          backgroundColor: '#FFFFFF',\n          zIndex: 3, // makes the first column background higher than checkboxes while horizontal scrolling\n        },\n      }}\n    >\n      <Table\n        sx={{\n          '& .MuiTableRow-root:hover': {\n            backgroundColor: '#FFFFFF',\n          },\n          [`th:nth-of-type(${colHoverNth}), td:nth-of-type(${colHoverNth}), tbody tr:hover`]: {\n            backgroundColor: '#F8F9FA',\n          },\n          [`td:nth-of-type(${colHoverNth}) .hoverable2`]: {\n            visibility: 'visible',\n          },\n        }}\n        onMouseOut={cancelColumnHover}\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell sx={{ width: '291px', px: '12px' }} className=\"sticky\">\n              <Typography noWrap variant=\"subtitle2\" sx={{ pl: 0 }}>\n                Permission\n              </Typography>\n            </TableCell>\n            {roles.map(({ key, role }, index) => (\n              <TableCell\n                key={key}\n                sx={{ width: '121px', textAlign: 'center', position: 'relative' }}\n                onMouseOver={() => handleColumnHover(index)}\n              >\n                <Typography noWrap variant=\"subtitle2\" sx={{ pl: 0 }}>\n                  {role}\n                </Typography>\n              </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {permissions.map(({ permission, name }) => (\n            <TableRow key={permission}>\n              <TableCell key={permission} sx={{ width: '291px', px: '12px' }} className=\"sticky\" data-testid={`Cell-${permission}`}>\n                {name}\n              </TableCell>\n              {roles.map((role, index) => {\n                const { key, permissions } = role\n                return (\n                  <TableCell\n                    onMouseOver={() => handleColumnHover(index)}\n                    key={key}\n                    sx={{ textAlign: 'center' }}\n                    data-testid={`Cell-${role.role}`}\n                  >\n                    <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n                      {permissions.includes(permission)\n                        ? <DoneIcon color=\"#00BB5B\"/>\n                        : <MinusIcon color=\"#626D82\"/>\n                      }\n                    </Box>\n                  </TableCell>\n                )\n              })}\n            </TableRow>\n          ))}\n          {onEdit && onDelete && <TableRow>\n            <TableCell sx={{ width: '291px', px: '12px' }} className=\"sticky\" data-testid=\"ActionsRow\"></TableCell>\n            {roles.map((role, index) => {\n              const { key, readOnly } = role\n              return (\n                <TableCell\n                  onMouseOver={() => handleColumnHover(index)}\n                  key={key}\n                  sx={{ textAlign: 'center' }}\n                  data-testid={`Cell-${role.role}`}\n                >\n                  <Box display=\"flex\" justifyContent=\"center\" gap=\"24px\" className=\"hoverable2\" visibility=\"hidden\">\n                    <Tooltip\n                      title={`${role.role} role cannot be edited`}\n                      disableHoverListener={!readOnly}\n                      disableFocusListener={!readOnly}\n                      placement=\"right\"\n                    >\n                      <Box>\n                        <IconButton\n                          sx={{ p: 0 }}\n                          disabled={readOnly}\n                          onClick={() => onEdit(role)}\n                          data-testid=\"EditButton\"\n                        >\n                          <EditIcon color={readOnly ? DISABLED_BUTTON_COLOR : ENABLED_BUTTON_COLOR}/>\n                        </IconButton>\n                      </Box>\n                    </Tooltip>\n                    <Tooltip\n                      title={`${role.role} role cannot be deleted`}\n                      disableHoverListener={!readOnly}\n                      disableFocusListener={!readOnly}\n                      placement=\"right\"\n                    >\n                      <Box>\n                        <IconButton\n                          sx={{ p: 0 }}\n                          disabled={readOnly}\n                          onClick={() => onDelete(role)}\n                          data-testid=\"EditButton\"\n                        >\n                          <DeleteIcon color={readOnly ? DISABLED_BUTTON_COLOR : ENABLED_BUTTON_COLOR}/>\n                        </IconButton>\n                      </Box>\n                    </Tooltip>\n                  </Box>\n                </TableCell>\n              )\n            })}\n          </TableRow>}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n})\n"],"names":["DoneIcon","memo","color","jsx","MinusIcon","HOVERABLE_COLUMN_OFFSET","RolesTable","permissions","roles","onDelete","onEdit","colHoverNth","setColHoverNth","useState","handleColumnHover","column","cancelColumnHover","TableContainer","jsxs","Table","TableHead","TableRow","TableCell","Typography","key","role","index","TableBody","permission","name","permissions2","Box","readOnly","Tooltip","IconButton","EditIcon","DISABLED_BUTTON_COLOR","ENABLED_BUTTON_COLOR","DeleteIcon"],"mappings":"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"}