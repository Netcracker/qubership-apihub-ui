import{j as e,e as Ke,y as qe,x as Ae,_ as mr,a as c,F as M}from"./createTheme-e504d7a1.js";import{r as l}from"./index-37ba2b57.js";import{a as w,C as v,u as fr}from"./index.esm-cb87e173.js";import{V as gr,a as hr,D as Ge,N,R as Ye}from"./version-status-fb60f024.js";import{r as vr,i as yr,a as br}from"./jsx-runtime_commonjs-proxy-350e4ed0.js";import{D as Vr}from"./DialogForm-065eb85a.js";import{C as Te}from"./CustomChip-4efdab6b.js";import{c as Ee,a as Cr,b as kr,d as Fr}from"./validations-b95ae019.js";import{E as _r}from"./EditIcon-17e28712.js";import{F as Sr,C as Ze}from"./FileIcon-04fddcb1.js";import{g as W,h as Pr}from"./versions-0bafc2da.js";import{T as y}from"./Typography-74efa758.js";import{L as Ir}from"./LabelsAutocomplete-128ab378.js";import{O as me}from"./OptionItem-e25d5775.js";import{d as De}from"./mui-fb0164d9.js";import{a as fe}from"./constants-963f5fd0.js";import{I as Oe}from"./InfoContextIcon-aa9793ab.js";import{t as Le,c as xr,C as Re}from"./files-ddd1c41c.js";import{F as qr}from"./FileUpload-481d8dc4.js";import{U as Ar}from"./UploadButton-b02903a5.js";import{D as Tr}from"./DeleteIcon-bcba80b5.js";import{B as f}from"./Box-3dbc4f20.js";import{I as Xe}from"./IconButton-ae1303d1.js";import{d as Er}from"./ErrorOutlined-024f29d1.js";import{_ as D}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-9c75dc50.js";import{g as Dr,b as Or,s as Y,c as Lr,a as Rr}from"./clsx.m-e8952646.js";import{u as wr}from"./useThemeProps-be56d1e2.js";import{c as Z}from"./createSvgIcon-23119704.js";import{C as Mr,A as E}from"./Autocomplete-114ba1e5.js";import{P as Nr}from"./Paper-024c4ac3.js";import{d as ge}from"./debounce-517eeb3c.js";import{D as Br,a as $r}from"./DialogTitle-ab65ab7e.js";import{D as zr}from"./DialogContent-5bab94bb.js";import{T as k}from"./TextField-53f19ca3.js";import{D as we}from"./Divider-b8f5100a.js";import{T as Me}from"./Tooltip-930d3447.js";import{L as he}from"./ListItem-fed0229b.js";import{L as Ur}from"./LoadingButton-e17cd288.js";import{B as Wr}from"./Button-3d3f424e.js";import"./_commonjsHelpers-de833af9.js";import"./package-permissions-7239f49d.js";import"./index-65a2139a.js";import"./createChainedFunction-0bab83cf.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-03d1c82d.js";import"./TransitionGroupContext-0440df69.js";import"./isMuiElement-de695f11.js";import"./useId-f6e37502.js";import"./useControlled-1dfdd739.js";import"./dialogTitleClasses-c791e94b.js";import"./useTheme-e67ac9fd.js";import"./Modal-ffa4feac.js";import"./utils-4745b4c1.js";import"./inheritsLoose-5494d9cc.js";import"./index-4da2af8c.js";import"./Portal-363c6d1a.js";import"./isHostComponent-73d6e646.js";import"./palette-8c6d2233.js";import"./Chip-f7e42c61.js";import"./ButtonBase-d7ff9540.js";import"./emotion-react.browser.esm-6b7ec201.js";import"./hoist-non-react-statics.cjs-b1c88361.js";import"./assertThisInitialized-081f9914.js";import"./extendSxProp-c6b156d7.js";import"./OverflowTooltip-48f061e8.js";import"./apihub-builder.es-bf0e6a1e.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./strings-8f296fda.js";import"./Popper-0de88a38.js";import"./usePreviousProps-c4e5492e.js";import"./index-891d46e9.js";import"./Menu-620abe77.js";import"./Grow-7e6ee5db.js";import"./List-9913b344.js";import"./ListContext-aeaca2aa.js";import"./GlobalStyles-cfaf7057.js";import"./dividerClasses-08bbc081.js";import"./listItemButtonClasses-02314725.js";import"./CircularProgress-0a03ae15.js";function Hr(t){return Or("MuiAlert",t)}const jr=Dr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ne=jr,Kr=Z(e("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Gr=Z(e("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Yr=Z(e("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Zr=Z(e("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Xr=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Jr=t=>{const{variant:n,color:s,severity:u,classes:i}=t,d={root:["root",`${n}${Ke(s||u)}`,`${n}`],icon:["icon"],message:["message"],action:["action"]};return Rr(d,Hr,i)},Qr=Y(Nr,{name:"MuiAlert",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:s}=t;return[n.root,n[s.variant],n[`${s.variant}${Ke(s.color||s.severity)}`]]}})(({theme:t,ownerState:n})=>{const s=t.palette.mode==="light"?qe:Ae,u=t.palette.mode==="light"?Ae:qe,i=n.color||n.severity;return D({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&n.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:s(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:u(t.palette[i].light,.9),[`& .${Ne.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&n.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:s(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${Ne.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&n.variant==="filled"&&D({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),et=Y("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,n)=>n.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),rt=Y("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,n)=>n.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Be=Y("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,n)=>n.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),$e={success:e(Kr,{fontSize:"inherit"}),warning:e(Gr,{fontSize:"inherit"}),error:e(Yr,{fontSize:"inherit"}),info:e(Zr,{fontSize:"inherit"})},tt=l.forwardRef(function(n,s){var u,i,d,p,A,m;const V=wr({props:n,name:"MuiAlert"}),{action:g,children:F,className:O,closeText:b="Close",color:T,components:x={},componentsProps:C={},icon:B,iconMapping:X=$e,onClose:_,role:q="alert",severity:L="success",slotProps:$={},slots:z={},variant:J="standard"}=V,Q=mr(V,Xr),S=D({},V,{color:T,severity:L,variant:J}),P=Jr(S),ee=(u=(i=z.closeButton)!=null?i:x.CloseButton)!=null?u:Xe,re=(d=(p=z.closeIcon)!=null?p:x.CloseIcon)!=null?d:Mr,R=(A=$.closeButton)!=null?A:C.closeButton,te=(m=$.closeIcon)!=null?m:C.closeIcon;return c(Qr,D({role:q,elevation:0,ownerState:S,className:Lr(P.root,O),ref:s},Q,{children:[B!==!1?e(et,{ownerState:S,className:P.icon,children:B||X[L]||$e[L]}):null,e(rt,{ownerState:S,className:P.message,children:F}),g!=null?e(Be,{ownerState:S,className:P.action,children:g}):null,g==null&&_?e(Be,{ownerState:S,className:P.action,children:e(ee,D({size:"small","aria-label":b,title:b,color:"inherit",onClick:_},R,{children:e(re,D({fontSize:"small"},te))}))}):null]}))}),ot=tt;var Ve={},at=yr;Object.defineProperty(Ve,"__esModule",{value:!0});var Je=Ve.default=void 0,nt=at(vr()),it=br,st=(0,nt.default)((0,it.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"ErrorRounded");Je=Ve.default=st;const ve=({children:t})=>e(y,{"data-testid":"ErrorTypography",variant:"body2",color:"#FF5260",children:t});try{ve.displayName="ErrorTypography",ve.__docgenInfo={description:"",displayName:"ErrorTypography",props:{}}}catch{}const ye=l.memo(({file:t,onDelete:n,onDownload:s,testId:u})=>{const i=s?lt:"black";return c(f,{display:"flex",alignItems:"center","data-testid":u,children:[c(f,{onClick:s,sx:{display:"flex",gap:.5,cursor:s?"pointer":"default"},children:[e(Sr,{color:i}),e(y,{variant:"subtitle2",fontSize:13,color:i,children:t.name})]}),e(Xe,{onClick:n,sx:{ml:"auto"},"data-testid":"DeleteButton",children:e(Tr,{color:"#353C4E"})})]})}),lt="#005DCF";try{ye.displayName="UploadedFilePreview",ye.__docgenInfo={description:"",displayName:"UploadedFilePreview",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"File"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => void"}},onDownload:{defaultValue:null,description:"",name:"onDownload",required:!1,type:{name:"(() => void)"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}},testId:{defaultValue:null,description:"",name:"testId",required:!1,type:{name:"string"}}}}}catch{}const be=l.memo(({uploadedFile:t,setUploadedFile:n,onDownload:s,downloadAvailable:u,acceptableExtensions:i,errorMessage:d})=>{const p=l.useCallback(({target:{files:g}})=>n(g?Le(g)[0]:void 0),[n]),A=l.useCallback(({dataTransfer:{files:g}})=>n(Le(g)[0]),[n]),m=l.useCallback(()=>n(void 0),[n]),V=l.useMemo(()=>d&&e(ot,{icon:e(Er,{color:"error"}),severity:"error",sx:{p:0,py:"1px",pl:2,alignItems:"center"},children:d}),[d]);return t?c(M,{children:[e(ye,{file:t,onDelete:m,onDownload:u?s:void 0,testId:u?"DownloadableFilePreview":"NotDownloadableFilePreview"}),V]}):c(f,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e(qr,{onDrop:A,acceptableFileTypes:i,children:c(f,{sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgb(242, 243, 245)",boxSizing:"border-box",borderRadius:"10px",width:1,height:"44px"},children:[e(Ze,{sx:{color:"#626D82",mr:"8px"}}),e(y,{variant:"subtitle2",fontSize:13,children:`Drop ${xr(i)} file here to attach or`}),e(Ar,{title:"browse",onUpload:p,buttonSxProp:{p:0,ml:.5,minWidth:"auto",height:1,display:"flex"},"data-testid":"BrowseButton",acceptableFileTypes:i})]})}),V]})});try{be.displayName="FileUploadField",be.__docgenInfo={description:"",displayName:"FileUploadField",props:{uploadedFile:{defaultValue:null,description:"",name:"uploadedFile",required:!0,type:{name:"File | undefined"}},setUploadedFile:{defaultValue:null,description:"",name:"setUploadedFile",required:!0,type:{name:"(file: File | undefined) => void"}},onDownload:{defaultValue:null,description:"",name:"onDownload",required:!1,type:{name:"(() => void)"}},downloadAvailable:{defaultValue:null,description:"",name:"downloadAvailable",required:!0,type:{name:"boolean"}},acceptableExtensions:{defaultValue:null,description:"",name:"acceptableExtensions",required:!0,type:{name:"FileExtension[]"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}}}catch{}const G=l.memo(t=>{var Ie,xe;const{open:n,initLoading:s,setOpen:u,onSubmit:i,control:d,setValue:p,formState:A,selectedWorkspace:m,workspaces:V,areWorkspacesLoading:g,onSetWorkspace:F,onSetTargetPackage:O,onSetTargetVersion:b,onSetTargetStatus:T,onSetTargetLabels:x,onWorkspacesFilter:C,arePackagesLoading:B,areVersionsLoading:X,onVersionsFilter:_,onPackagesFilter:q,packages:L,packagesTitle:$,versions:z,previousVersions:J,getVersionLabels:Q,packagePermissions:S,releaseVersionPattern:P,isPublishing:ee,extraValidationMassage:re,setSelectedPreviousVersion:R,title:te,submitButtonTittle:oe,descriptorVersionFieldTitle:Qe,descriptorFileFieldTitle:er,hideCSVRelatedFields:ae=!0,hideDescriptorField:ne,hideDescriptorVersionField:ie,hideSaveMessageField:se,hidePreviousVersionField:rr,hideCopyPackageFields:le,publishButtonDisabled:tr}=t,{errors:I}=A,de=w({control:d,name:"workspace"}),Ce=w({control:d,name:"package"}),ue=w({control:d,name:"status"}),or=w({control:d,name:"previousVersion"}),pe=w({control:d,name:"descriptorFile"}),ar=ue===Ye,ke=l.useCallback((a,r)=>C==null?void 0:C(r),[C]),Fe=l.useCallback((a,r)=>q==null?void 0:q(r),[q]),_e=l.useCallback((a,r)=>{b==null||b(r),_==null||_(r)},[_,b]),nr=l.useCallback((a,r)=>x==null?void 0:x(r),[x]),ir=l.useCallback((a,r)=>T==null?void 0:T(r),[T]),Se=l.useMemo(()=>ge(ke,fe),[ke]),sr=l.useMemo(()=>ge(Fe,fe),[Fe]),lr=l.useMemo(()=>ge(_e,fe),[_e]),[dr,ur]=l.useState(null),[pr,Pe]=l.useState(!1),ce=l.useCallback(a=>{var r;ur((r=a==null?void 0:a.target)!=null&&r.result?String(a.target.result):null),Pe(!1)},[]);l.useEffect(()=>{m!=null&&m.key&&p("workspace",m)},[m,m==null?void 0:m.key,p]),l.useEffect(()=>{if(!pe)return;const a=new FileReader;a.onload=ce,a.onerror=ce,Pe(!0),a.readAsText(pe)},[pe,ce]);const cr=l.useMemo(()=>!se||!ie||!ne,[ne,ie,se]),U=l.useMemo(()=>s||!le&&!Ce||!ae&&!de,[s,le,Ce,ae,de]);return c(Vr,{open:n,onClose:()=>u(!1),onSubmit:i,children:[e(Br,{"data-testid":"DialogTitle",children:te??"Publish"}),c(zr,{sx:{width:440},children:[!se&&c(M,{children:[e(y,{variant:"button",children:"Save"}),e(v,{name:"message",control:d,render:({field:a})=>e(k,{...a,multiline:!0,required:!0,autoComplete:"on",rows:"4",type:"text",label:"Message","data-testid":"MessageTextField"})}),e(y,{variant:"button",children:"Publish"})]}),!ie&&e(v,{name:"descriptorVersion",control:d,rules:{validate:{restrictedSymbols:a=>Ee(a??"")}},render:({field:a})=>e(k,{...a,value:a.value??"",required:!0,label:Qe??"Descriptor Version",error:!!I.descriptorVersion,onChange:r=>p("descriptorVersion",r.target.value??""),"data-testid":"DescriptorVersionTextField"})}),!ne&&e(v,{name:"descriptorFile",control:d,rules:{validate:{correctUpload:()=>ut(dr)}},render:({field:a})=>{var r,o;return c(f,{component:"label",htmlFor:"contained-button-file",children:[e(f,{component:"input",id:"contained-button-file",display:"none",multiple:!0,type:"file",onChange:({target:{files:h}})=>{p("descriptorFile",(h==null?void 0:h[0])??null)}}),e(k,{...a,sx:{label:{height:"100%",width:"100%"}},value:((r=a.value)==null?void 0:r.name)??"",label:er??"Descriptor File",error:!!I.descriptorFile,helperText:(o=I.descriptorFile)==null?void 0:o.message,required:!0,InputProps:{endAdornment:c(f,{display:"flex",flexDirection:"row",sx:{cursor:"pointer"},children:[a.value?e(_r,{}):e(Ze,{fontSize:"small",sx:{color:"#353C4E"}}),!!I.descriptorFile&&e(Je,{color:"error"})]}),inputProps:{readOnly:!0}},"data-testid":"DescriptorFileTextField"})]})}}),cr&&e(we,{sx:{mx:0,mt:1,mb:.5},orientation:"horizontal"}),!ae&&c(M,{children:[c(f,{display:"flex",gap:.5,alignItems:"center",pb:1,children:[c(f,{sx:{lineHeight:1},children:[e(y,{variant:"button",component:"span",children:"Dashboard Version Config"}),e(y,{variant:"button",component:"span",color:"#FF5260",children:"*"})]}),e(Me,{disableHoverListener:!1,placement:"right",title:pt,PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:"600px"}}},children:e(Oe,{fontSize:"extra-small"})})]}),e(v,{name:"file",rules:{required:"Please upload a file",validate:{checkFileType:a=>Cr(a,[Re])}},control:d,render:({field:{value:a,onChange:r}})=>{var o;return e(be,{errorMessage:(o=I.file)==null?void 0:o.message,uploadedFile:a,setUploadedFile:h=>r(h),downloadAvailable:!1,acceptableExtensions:[Re]})}}),c(f,{display:"flex",gap:.5,alignItems:"center",pt:2,children:[e(y,{variant:"button",children:"Package Search Scope for Dashboard Version"}),e(Me,{disableHoverListener:!1,placement:"right",title:ct,PopperProps:{sx:{".MuiTooltip-tooltip":{maxWidth:"600px"}}},children:e(Oe,{fontSize:"extra-small"})})]}),e(v,{name:"workspace",control:d,render:({field:{value:a}})=>e(E,{value:a,options:V??[],loading:g,isOptionEqualToValue:(r,o)=>r.key===o.key,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:h})=>e(me,{props:r,title:h,subtitle:o},o),onChange:(r,o)=>{p("workspace",o??null),p("package",null),F==null||F(o)},onInputChange:H(Se),onClose:j(C),renderInput:r=>e(k,{required:!0,...r,label:"Workspace"}),"data-testid":"WorkspaceAutocomplete"})}),e(f,{sx:{lineHeight:1},pt:2,children:e(y,{variant:"button",children:"Publish Info"})})]}),!le&&c(M,{children:[e(y,{sx:{mb:1},variant:"body2",children:"Target Package"}),e(v,{name:"workspace",control:d,render:({field:{value:a}})=>e(E,{value:a,options:V??[],loading:g,isOptionEqualToValue:(r,o)=>r.key===o.key,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:h})=>e(me,{props:r,title:h,subtitle:o},o),onChange:(r,o)=>{p("workspace",o??null),p("package",null),F==null||F(o)},onClose:j(C),onInputChange:H(Se),renderInput:r=>e(k,{required:!0,...r,label:"Workspace"}),"data-testid":"WorkspaceAutocomplete"})}),e(v,{name:"package",control:d,render:({field:{value:a}})=>e(E,{value:a,disabled:!de,isOptionEqualToValue:(r,o)=>r.key===o.key,options:L??[],loading:B,filterOptions:De,getOptionLabel:r=>(r==null?void 0:r.name)??"",renderOption:(r,{key:o,name:h})=>e(me,{props:r,title:h,subtitle:o},o),onInputChange:H(sr),renderInput:r=>e(k,{...r,required:!0,label:$}),onChange:(r,o)=>{p("package",o),O==null||O(o)},onClose:j(q),"data-testid":"PackageAutocomplete"})}),e(y,{sx:{mb:1,mt:2},variant:"body2",children:"Target Version Info"})]}),e(v,{name:"version",control:d,rules:{validate:{checkSpaces:a=>!ar||!P?!0:kr(a,P),restrictedSymbols:Ee,notEqualToPrevious:a=>Fr(a,W(or).versionKey)}},render:({field:a})=>e(E,{freeSolo:!0,disabled:!a||!Q||U,value:a.value||"",options:z??[],loading:X,renderOption:(r,o)=>l.createElement(he,{...r,key:o},o),onInputChange:H(lr),filterOptions:De,renderInput:r=>e(k,{...a,...r,required:!0,label:"Version",error:!!I.version}),onChange:(r,o)=>{p("version",o??""),b==null||b(o??"")},onClose:j(_),"data-testid":"VersionAutocomplete"})}),e(v,{name:"status",control:d,render:({field:{value:a}})=>e(E,{value:a??null,options:gr,getOptionDisabled:r=>!S.includes(hr[r]),disabled:U,renderOption:(r,o)=>l.createElement(he,{...r,key:o,"data-testid":`Option-${o}`},e(Te,{value:o})),onChange:(r,o)=>{ir(r,o||Ge),p("status",o)},renderInput:r=>e(k,{...r,label:"Status",required:!0,InputProps:{...r.InputProps,sx:{"& .MuiInputBase-input":{color:"transparent",caretColor:"transparent","::selection":{background:"transparent",color:"transparent"}},"& .Mui-disabled":{WebkitTextFillColor:"transparent"}},startAdornment:ue?e(Te,{sx:{height:16,mb:1},value:ue}):null}}),"data-testid":"StatusAutocomplete"})}),e(v,{name:"labels",control:d,render:({field:a})=>e(Ir,{disabled:U,onChange:(r,o)=>{nr(r,o),p("labels",o??[])},value:a.value})}),!rr&&c(M,{children:[e(we,{sx:{mx:0,mt:1,mb:.5},orientation:"horizontal"}),e(v,{name:"previousVersion",control:d,render:({field:a})=>e(E,{disabled:U,value:a.value??null,options:J??[],getOptionLabel:r=>W(r).versionKey,isOptionEqualToValue:(r,o)=>r===W(o).versionKey,renderOption:(r,o)=>l.createElement(he,{...r,key:o},W(o).versionKey),renderInput:r=>e(k,{...r,required:!0,label:"Previous release version",helperText:re}),onChange:(r,o)=>{p("previousVersion",o??N),R==null||R(o??N)},"data-testid":"PreviousReleaseVersionAutocomplete"})})]}),((Ie=I.version)==null?void 0:Ie.message)&&e(f,{pt:2,children:e(ve,{children:(xe=I.version)==null?void 0:xe.message})})]}),c($r,{children:[e(Ur,{variant:"contained",type:"submit",loading:ee||s,disabled:pr||tr||s,"data-testid":oe?`${oe}Button`:"PublishButton",children:oe??"Publish"}),e(Wr,{variant:"outlined",onClick:()=>u(!1),"data-testid":"CancelButton",children:"Close"})]})]})});function ze(t){return t===N?dt:t}function Ue(t){const n=Pr(t);return l.useMemo(()=>[N,...n.filter(({status:s})=>s===Ye).map(({key:s})=>s)],[n])}const dt="";function ut(t){return!!t}const pt='CSV file must have the following information: "serviceName" and "serviceVersion". Published dashboard version will include package release versions (from selected workspace) for specified services. Additionally, "method" and "path" of REST API operations for services can be defined in the file. In this case, the system will create operations group with the operations for specified method and path.',ct="The workspace in which package versions for services from the CSV configuration will be searched. The package versions found in this workspace will be included into the dashboard version.";function H(t){return(n,s,u)=>{u==="input"&&t(n,s)}}function j(t){return()=>{t==null||t("")}}try{ze.displayName="replaceEmptyPreviousVersion",ze.__docgenInfo={description:"",displayName:"replaceEmptyPreviousVersion",props:{}}}catch{}try{Ue.displayName="usePreviousVersionOptions",Ue.__docgenInfo={description:"",displayName:"usePreviousVersionOptions",props:{}}}catch{}try{G.displayName="VersionDialogForm",G.__docgenInfo={description:"",displayName:"VersionDialogForm",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},initLoading:{defaultValue:null,description:"",name:"initLoading",required:!1,type:{name:"boolean"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(value: boolean) => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"Control<VersionFormData, any>"}},setValue:{defaultValue:null,description:"",name:"setValue",required:!0,type:{name:"UseFormSetValue<VersionFormData>"}},formState:{defaultValue:null,description:"",name:"formState",required:!0,type:{name:"FormState<VersionFormData>"}},packagePermissions:{defaultValue:null,description:"",name:"packagePermissions",required:!0,type:{name:"PackagePermissions"}},releaseVersionPattern:{defaultValue:null,description:"",name:"releaseVersionPattern",required:!0,type:{name:"string | undefined"}},selectedWorkspace:{defaultValue:null,description:"",name:"selectedWorkspace",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | null | undefined"}},workspaces:{defaultValue:null,description:"",name:"workspaces",required:!1,type:{name:"Packages"}},onWorkspacesFilter:{defaultValue:null,description:"",name:"onWorkspacesFilter",required:!1,type:{name:"((value: string) => void)"}},onVersionsFilter:{defaultValue:null,description:"",name:"onVersionsFilter",required:!1,type:{name:"((value: string) => void)"}},onPackagesFilter:{defaultValue:null,description:"",name:"onPackagesFilter",required:!1,type:{name:"((value: string) => void)"}},onSetWorkspace:{defaultValue:null,description:"",name:"onSetWorkspace",required:!1,type:{name:"((workspace: Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; ... 11 more ...; bwcErrors?: Readonly<...> | undefined; }> | null) => void) | undefined"}},onSetTargetPackage:{defaultValue:null,description:"",name:"onSetTargetPackage",required:!1,type:{name:"((pack: Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; ... 11 more ...; bwcErrors?: Readonly<...> | undefined; }> | null) => void) | undefined"}},onSetTargetVersion:{defaultValue:null,description:"",name:"onSetTargetVersion",required:!1,type:{name:"((version: string) => void)"}},onSetTargetStatus:{defaultValue:null,description:"",name:"onSetTargetStatus",required:!1,type:{name:"((status: VersionStatus) => void)"}},onSetTargetLabels:{defaultValue:null,description:"",name:"onSetTargetLabels",required:!1,type:{name:"((labels: string[]) => void)"}},areWorkspacesLoading:{defaultValue:null,description:"",name:"areWorkspacesLoading",required:!1,type:{name:"boolean"}},arePackagesLoading:{defaultValue:null,description:"",name:"arePackagesLoading",required:!1,type:{name:"boolean"}},areVersionsLoading:{defaultValue:null,description:"",name:"areVersionsLoading",required:!1,type:{name:"boolean"}},packages:{defaultValue:null,description:"",name:"packages",required:!1,type:{name:"Packages"}},packagesTitle:{defaultValue:null,description:"",name:"packagesTitle",required:!1,type:{name:"string"}},packageObj:{defaultValue:null,description:"",name:"packageObj",required:!1,type:{name:"Readonly<{ key: string; alias: string; name: string; parentGroup?: string; kind: PackageKind; description?: string; isFavorite?: boolean | undefined; serviceName?: string | undefined; ... 10 more ...; bwcErrors?: Readonly<...> | undefined; }> | undefined"}},onSetPackage:{defaultValue:null,description:"",name:"onSetPackage",required:!1,type:{name:"(() => void)"}},versions:{defaultValue:null,description:"",name:"versions",required:!1,type:{name:"string[]"}},previousVersions:{defaultValue:null,description:"",name:"previousVersions",required:!1,type:{name:"string[]"}},getVersionLabels:{defaultValue:null,description:"",name:"getVersionLabels",required:!1,type:{name:"((version: string) => string[])"}},isPublishing:{defaultValue:null,description:"",name:"isPublishing",required:!1,type:{name:"boolean"}},extraValidationMassage:{defaultValue:null,description:"",name:"extraValidationMassage",required:!1,type:{name:"string | null"}},setSelectedPreviousVersion:{defaultValue:null,description:"",name:"setSelectedPreviousVersion",required:!1,type:{name:"((value: string) => void)"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},submitButtonTittle:{defaultValue:null,description:"",name:"submitButtonTittle",required:!1,type:{name:"string"}},descriptorVersionFieldTitle:{defaultValue:null,description:"",name:"descriptorVersionFieldTitle",required:!1,type:{name:"string"}},descriptorFileFieldTitle:{defaultValue:null,description:"",name:"descriptorFileFieldTitle",required:!1,type:{name:"string"}},hideCSVRelatedFields:{defaultValue:null,description:"",name:"hideCSVRelatedFields",required:!1,type:{name:"boolean"}},hideDescriptorField:{defaultValue:null,description:"",name:"hideDescriptorField",required:!1,type:{name:"boolean"}},hideDescriptorVersionField:{defaultValue:null,description:"",name:"hideDescriptorVersionField",required:!1,type:{name:"boolean"}},hideSaveMessageField:{defaultValue:null,description:"",name:"hideSaveMessageField",required:!1,type:{name:"boolean"}},hideCopyPackageFields:{defaultValue:null,description:"",name:"hideCopyPackageFields",required:!1,type:{name:"boolean"}},hidePreviousVersionField:{defaultValue:null,description:"",name:"hidePreviousVersionField",required:!1,type:{name:"boolean"}},publishButtonDisabled:{defaultValue:null,description:"",name:"publishButtonDisabled",required:!1,type:{name:"boolean"}}}}}catch{}const Bo={component:G},mt=t=>{const n=l.useMemo(()=>({version:"",status:Ge,labels:[],descriptorFile:null,previousVersion:N}),[]),{control:s,setValue:u,formState:i}=fr({defaultValues:n});return e(G,{...t,control:s,setValue:u,formState:i})},K={name:"Default",args:{open:!0,setOpen:()=>null,onSubmit:()=>null,versions:[],previousVersions:[],getVersionLabels:()=>[],packagePermissions:[],isPublishing:!1,hideDescriptorField:!0,hideDescriptorVersionField:!0},render:mt};var We,He,je;K.parameters={...K.parameters,docs:{...(We=K.parameters)==null?void 0:We.docs,source:{originalSource:`{
  name: 'Default',
  args: {
    open: true,
    setOpen: () => null,
    onSubmit: () => null,
    versions: [],
    previousVersions: [],
    getVersionLabels: () => [],
    packagePermissions: [],
    isPublishing: false,
    hideDescriptorField: true,
    hideDescriptorVersionField: true
  },
  render: StoryComponent
}`,...(je=(He=K.parameters)==null?void 0:He.docs)==null?void 0:je.source}}};const $o=["DefaultStory"];export{K as DefaultStory,$o as __namedExportsOrder,Bo as default};
//# sourceMappingURL=VersionDialogForm.stories-12075a40.js.map
